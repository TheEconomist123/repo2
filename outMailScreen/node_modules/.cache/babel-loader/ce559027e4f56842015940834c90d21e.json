{"remainingRequest":"D:\\oesbecc\\outScreen\\node_modules\\babel-loader\\lib\\index.js!D:\\oesbecc\\outScreen\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\oesbecc\\outScreen\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\oesbecc\\outScreen\\src\\views\\timeTask\\edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\oesbecc\\outScreen\\src\\views\\timeTask\\edit.vue","mtime":1637304821618},{"path":"D:\\oesbecc\\outScreen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626312140594},{"path":"D:\\oesbecc\\outScreen\\node_modules\\babel-loader\\lib\\index.js","mtime":1626312110547},{"path":"D:\\oesbecc\\outScreen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626312140594},{"path":"D:\\oesbecc\\outScreen\\node_modules\\vue-loader\\lib\\index.js","mtime":1626312141896}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { addJob, updateJob } from '@/api/index.js';\nexport default {\n  data: function data() {\n    return {\n      disabled: '',\n      disabled1: '',\n      showVisible: false,\n      form: this.$form.createForm(this),\n      hackRest: false,\n      dialogType: '',\n      dialogTypeMap: {\n        show: '任务详情',\n        create: '任务管理新增',\n        update: '任务管理修改'\n      },\n      SubmitTypeMap: {\n        show: '关闭',\n        create: '确认新增',\n        update: '确认修改'\n      },\n      showCanel: true,\n      rule: {\n        processName: {\n          rules: [{\n            required: true,\n            message: '请输入作业名称'\n          }],\n          initialValue: ''\n        },\n        className: {\n          rules: [{\n            required: true,\n            message: '请输入Java类名'\n          }],\n          initialValue: ''\n        },\n        groupName: {\n          rules: [{\n            required: true,\n            message: '请输入组名'\n          }],\n          initialValue: '默认组'\n        },\n        cronExpr: {\n          rules: [{\n            required: true,\n            message: '请输入调度表达式'\n          }],\n          initialValue: ''\n        },\n        scheduleDesc: {\n          rules: [{\n            required: true,\n            message: '请输入调度说明'\n          }],\n          initialValue: ''\n        },\n        isValid: {\n          rules: [{\n            required: true,\n            message: '请选择状态'\n          }],\n          initialValue: '1'\n        }\n      }\n    };\n  },\n  methods: {\n    //查看\n    ShowDialog: function ShowDialog(query) {\n      var _this = this;\n\n      this.disabled = true;\n      this.disabled1 = true;\n      this.showCanel = false;\n      this.showVisible = true;\n      this.iconType = \"copy\";\n      this.dialogType = 'show';\n      this.timeTask = query;\n      this.$nextTick(function () {\n        _this.hackRest = true;\n\n        _this.form.setFieldsValue(query);\n      });\n    },\n    //新增\n    CreateDialog: function CreateDialog() {\n      this.iconType = \"form\";\n      this.showCanel = true;\n      this.disabled = false;\n      this.disabled1 = false;\n      this.showVisible = true;\n      this.dialogType = 'create';\n      this.form.resetFields(); //清除缓存数据\n    },\n    //修改\n    UpdateDialog: function UpdateDialog(query) {\n      var _this2 = this;\n\n      this.iconType = \"form\";\n      this.showCanel = true;\n      this.disabled = false;\n      this.disabled1 = false;\n      this.showVisible = true;\n      this.dialogType = 'update';\n      this.timeTask = query;\n      this.$nextTick(function () {\n        _this2.hackRest = true;\n\n        _this2.form.setFieldsValue(query);\n      });\n    },\n    //关闭\n    onClose: function onClose() {\n      this.showVisible = false;\n      this.form.resetFields();\n    },\n    //提交按钮\n    onSubmit: function onSubmit() {\n      if (this.dialogType == 'show') {\n        this.showVisible = false;\n      }\n\n      if (this.dialogType == 'create') {\n        this.create();\n      }\n\n      if (this.dialogType == 'update') {\n        this.update();\n      }\n    },\n    //新增\n    create: function create() {\n      var _this3 = this;\n\n      this.form.validateFields(function (err, values) {\n        if (!err) {\n          addJob(values).then(function (res) {\n            //console.log(res)\n            if (res.data.code == '0000') {\n              _this3.$message.success(res.data.message);\n\n              _this3.$emit('fresh');\n            } else {\n              _this3.$message.error(res.data.message);\n            }\n          });\n          _this3.showVisible = false;\n        }\n      });\n    },\n    //修改\n    update: function update() {\n      var _this4 = this;\n\n      this.form.validateFields(function (err, values) {\n        if (!err) {\n          updateJob(values).then(function (res) {\n            //console.log(res)\n            if (res.data.code == '0000') {\n              _this4.$message.success(res.data.message);\n\n              _this4.$emit('fresh');\n            } else {\n              _this4.$message.error(res.data.message);\n            }\n          });\n          _this4.showVisible = false;\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["edit.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\r\n  <a-drawer\r\n            placement=\"right\"\r\n            :closable=\"true\"\r\n            @close=\"onClose\"\r\n            :visible=\"showVisible\"\r\n            width=\"700px\">\r\n\t\t\t<span slot=\"title\">\r\n\t\t\t\t<a-icon :type=\"iconType\"/>&nbsp; {{dialogTypeMap[dialogType]}}\r\n\t\t\t\t\r\n\t\t\t</span>\r\n\r\n    <a-form class=\"ant-advanced-search-form\" style=\"border:none;\" :form=\"form\">\r\n      <a-row :gutter=\"24\">\r\n        <a-col :span=\"24\">\r\n          <a-form-item label=\"作业名称\"\r\n                       :label-col=\"{ span: 4 }\"\r\n                       :wrapper-col=\"{ span: 24 }\">\r\n            <a-input placeholder=\"请输入作业名称\"  :disabled=\"disabled\" \r\n\t\t\t\t\tv-decorator=\"['processName',rule.processName]\"\r\n\t\t\t/>\r\n\t\t\t\r\n\t\t\t<a-input type=\"hidden\"  :disabled=\"disabled\"\r\n\t\t\t\t\tv-decorator=\"['processId']\"\r\n\t\t\t/>\r\n          </a-form-item>\r\n        </a-col>\r\n        <a-col :span=\"24\">\r\n          <a-form-item label=\"Java类名\"\r\n                       :label-col=\"{ span: 4 }\"\r\n                       :wrapper-col=\"{ span: 12 }\">\r\n            <a-input  placeholder=\"请输入Java类名\" :disabled=\"disabled\"\r\n\t\t\t\t\tv-decorator=\"['className',rule.className]\"\r\n\t\t\t/>\r\n          </a-form-item>\r\n        </a-col>\r\n        <a-col :span=\"24\">\r\n          <a-form-item label=\"组名\"\r\n                       :label-col=\"{ span: 4 }\"\r\n                       :wrapper-col=\"{ span: 12 }\">\r\n            <a-input  placeholder=\"请输入组名\"  :disabled=\"disabled\"\r\n\t\t\t\t\tv-decorator=\"['groupName',rule.groupName]\" />\r\n          </a-form-item>\r\n        </a-col>\r\n        <a-col :span=\"24\">\r\n          <a-form-item label=\"调度表达式\"\r\n                       :label-col=\"{ span: 4 }\"\r\n                       :wrapper-col=\"{ span: 12 }\">\r\n            <a-input  placeholder=\"请输入调度表达式\" :disabled=\"disabled\" \r\n\t\t\t\t\tv-decorator=\"['cronExpr',rule.cronExpr]\"/>\r\n          </a-form-item>\r\n        </a-col>\r\n\t\t\r\n\t\t<a-col :span=\"24\">\r\n\t\t  <a-form-item label=\"调度说明\"\r\n\t\t               :label-col=\"{ span: 4 }\"\r\n\t\t               :wrapper-col=\"{ span: 12 }\">\r\n\t\t    <a-input  placeholder=\"请输入调度说明\" :disabled=\"disabled1\"\r\n\t\t\t\t\tv-decorator=\"['scheduleDesc',rule.scheduleDesc]\"/>\r\n\t\t  </a-form-item>\r\n\t\t</a-col>\r\n\t\t\r\n\t\t\r\n\t\t<a-col :span=\"24\">\r\n\t\t  <a-form-item label=\"启用状态\"\r\n\t\t               :label-col=\"{ span: 4 }\"\r\n\t\t               :wrapper-col=\"{ span: 12 }\">\r\n\t\t    <template>\r\n\t\t\t\t<a-radio-group  name='isValid' :disabled=\"disabled\"  v-decorator=\"['isValid',rule.isValid]\" >\r\n\t\t\t\t\t<a-radio value=\"0\">启用</a-radio>\r\n\t\t\t\t\t<a-radio value=\"1\">禁用</a-radio>\r\n\t\t\t\t</a-radio-group>\r\n\t\t\t</template>\r\n\t\t  </a-form-item>\r\n\t\t</a-col>\r\n        \r\n      </a-row>\r\n    </a-form>\r\n    <div :style=\"{\r\n                 position: 'absolute',\r\n                 left: 0,\r\n                 bottom: 0,\r\n                 width: '100%',\r\n                 borderTop: '1px solid #e9e9e9',\r\n                 padding: '10px 16px',\r\n                 background: '#fff',\r\n                 textAlign: 'right',\r\n               }\">\r\n      <a-button :style=\"{marginRight: '8px'}\" @click=\"onClose\" v-if=\"showCanel\"> 取消 </a-button>\r\n      <a-button @click=\"onSubmit\" type=\"primary\">{{SubmitTypeMap[dialogType]}}</a-button>\r\n    </div>\r\n  </a-drawer>\r\n\r\n</template>\r\n\r\n<script>\r\nimport {addJob ,updateJob} from '@/api/index.js';\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n\t\tdisabled:'',\r\n\t\tdisabled1:'',\r\n        showVisible: false,\r\n\t\tform: this.$form.createForm(this),\r\n\t\thackRest:false,\r\n\t\tdialogType:'',\r\n\t\tdialogTypeMap:{\r\n\t\t\tshow:'任务详情',\r\n\t\t\tcreate:'任务管理新增',\r\n\t\t\tupdate:'任务管理修改'\r\n\t\t},\r\n\t\tSubmitTypeMap:{\r\n\t\t\tshow:'关闭',\r\n\t\t\tcreate:'确认新增',\r\n\t\t\tupdate:'确认修改',\r\n\t\t},\r\n\t\tshowCanel:true,\r\n\t\trule:{\r\n\t\t\tprocessName:{ rules: [{ required: true, message: '请输入作业名称' }],initialValue:''},\r\n\t\t\tclassName:{ rules: [{ required: true, message: '请输入Java类名' }],initialValue:''},\r\n\t\t\tgroupName:{ rules: [{ required: true, message: '请输入组名' }],initialValue:'默认组'},\r\n\t\t\tcronExpr:{ rules: [{ required: true, message: '请输入调度表达式' }],initialValue:''},\r\n\t\t\tscheduleDesc:{ rules: [{ required: true, message: '请输入调度说明' }],initialValue:''},\r\n\t\t\tisValid:{ rules: [{ required: true, message: '请选择状态' }],initialValue:'1'},\r\n\t\t\t\r\n\t\t}\r\n      }\r\n    },\r\n    methods: {\r\n\t   //查看\r\n      ShowDialog(query) {\r\n\t\tthis.disabled=true\r\n\t\tthis.disabled1=true\r\n\t\tthis.showCanel = false\r\n        this.showVisible = true\r\n\t\tthis.iconType =\"copy\";\r\n\t\tthis.dialogType='show'\r\n\t\tthis.timeTask=query\r\n\t\tthis.$nextTick(()=>{\r\n\t\t\tthis.hackRest=true;\r\n\t\t\tthis.form.setFieldsValue(query)\r\n\t\t});\r\n      },\r\n\t  \r\n\t  //新增\r\n\t  CreateDialog() {\r\n\t\tthis.iconType =\"form\";\r\n\t\tthis.showCanel = true\r\n\t\tthis.disabled=false\r\n\t\tthis.disabled1=false\r\n\t    this.showVisible = true\r\n\t  \tthis.dialogType='create'\r\n\t\tthis.form.resetFields();//清除缓存数据\r\n\t  },\r\n\t  //修改\r\n\t  UpdateDialog(query) {\r\n\t\tthis.iconType =\"form\";\r\n\t\tthis.showCanel = true\r\n\t  \tthis.disabled=false\r\n\t\tthis.disabled1=false\r\n\t    this.showVisible = true\r\n\t  \tthis.dialogType='update'\r\n\t\tthis.timeTask=query\r\n\t\tthis.$nextTick(()=>{\r\n\t\t\tthis.hackRest=true;\r\n\t\t\tthis.form.setFieldsValue(query)\r\n\t\t});\r\n\t  \t\t\r\n\t  },\r\n\t  //关闭\r\n\t  onClose(){\r\n\t\t  this.showVisible = false;\r\n\t\t  this.form.resetFields();\r\n\t  },\r\n\t  //提交按钮\r\n      onSubmit() {\r\n\t\t if(this.dialogType=='show'){\r\n\t\t\tthis.showVisible = false\r\n\t\t }\r\n\t\t if(this.dialogType=='create'){\r\n\t\t\tthis.create();\t\r\n\t\t }\r\n\t\t if(this.dialogType=='update'){\r\n\t\t\tthis.update();\r\n\t\t }\r\n      },\r\n\t  //新增\r\n\t  create(){\r\n\t\t this.form.validateFields((err, values) => {\r\n\t\t  if(!err){\r\n\t\t\t  addJob(values).then(res=>{\r\n\t\t\t\t  //console.log(res)\r\n\t\t\t\tif(res.data.code=='0000'){\r\n\t\t\t\t\tthis.$message.success(res.data.message)\r\n\t\t\t\t\tthis.$emit('fresh')\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$message.error(res.data.message)\r\n\t\t\t\t}\r\n\t\t\t  })\r\n\t\t\t  this.showVisible = false\r\n\t\t\t}\r\n\t\t  });\r\n\t  },\r\n\t  //修改\r\n\t  update(){\r\n\t\t  this.form.validateFields((err, values) => {\r\n\t\t   if(!err){\r\n\t\t\t  updateJob(values).then(res=>{\r\n\t\t\t\t  //console.log(res)\r\n\t\t\t\tif(res.data.code=='0000'){\r\n\t\t\t\t\tthis.$message.success(res.data.message)\r\n\t\t\t\t\tthis.$emit('fresh')\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$message.error(res.data.message)\r\n\t\t\t\t}\r\n\t\t\t  })\r\n\t\t\t  this.showVisible = false\r\n\t\t\t}\r\n\t\t   });\r\n\t  }\r\n    }\r\n  }\r\n\r\n</script>\r\n"],"sourceRoot":"src/views/timeTask"}]}