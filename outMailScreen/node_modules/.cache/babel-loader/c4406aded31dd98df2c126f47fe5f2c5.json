{"remainingRequest":"D:\\oesbecc\\outScreen\\node_modules\\babel-loader\\lib\\index.js!D:\\oesbecc\\outScreen\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\oesbecc\\outScreen\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\oesbecc\\outScreen\\src\\views\\layout\\tabs.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\oesbecc\\outScreen\\src\\views\\layout\\tabs.vue","mtime":1639381381685},{"path":"D:\\oesbecc\\outScreen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626312140594},{"path":"D:\\oesbecc\\outScreen\\node_modules\\babel-loader\\lib\\index.js","mtime":1626312110547},{"path":"D:\\oesbecc\\outScreen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626312140594},{"path":"D:\\oesbecc\\outScreen\\node_modules\\vue-loader\\lib\\index.js","mtime":1626312141896}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    var panes = [{\n      title: \"首  页\",\n      key: \"/main/\",\n      closable: false,\n      icon: \"cloud\"\n    }];\n    return {\n      activeKey: panes[0].key,\n      panes: panes,\n      newTabIndex: 0\n    };\n  },\n  created: function created() {\n    this.gettabs();\n  },\n  watch: {\n    $route: function $route(to, from) {\n      this.gettabs();\n    }\n  },\n  methods: {\n    callback: function callback(key) {\n      console.log(key);\n    },\n    onEdit: function onEdit(targetKey, action) {\n      this[action](targetKey);\n    },\n    remove: function remove(targetKey) {\n      var activeKey = this.activeKey;\n      var lastIndex;\n      this.panes.forEach(function (pane, i) {\n        if (pane.key === targetKey) {\n          lastIndex = i - 1;\n        }\n      });\n      var panes = this.panes.filter(function (pane) {\n        return pane.key !== targetKey;\n      });\n\n      if (lastIndex >= 0 && activeKey === targetKey) {\n        activeKey = panes[lastIndex].key;\n      }\n\n      this.panes = panes;\n      this.activeKey = activeKey;\n      this.onChange();\n    },\n    gettabs: function gettabs() {\n      var flag = false;\n      var matched = this.$route.matched;\n      var activeKey = matched[matched.length - 1].path;\n      this.panes.forEach(function (item) {\n        if (activeKey == item.key) flag = true;\n      });\n      var pane = {\n        title: matched[matched.length - 1].meta.title,\n        key: activeKey,\n        icon: matched[matched.length - 1].meta.icon\n      };\n      if (!flag) this.panes.push(pane);\n      this.activeKey = activeKey;\n    },\n    onChange: function onChange() {\n      this.$router.push({\n        path: this.activeKey\n      });\n    }\n  }\n};",{"version":3,"sources":["tabs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,eAAA;AACA,EAAA,IADA,kBACA;AACA,QAAA,KAAA,GAAA,CACA;AAAA,MAAA,KAAA,EAAA,MAAA;AAAA,MAAA,GAAA,EAAA,QAAA;AAAA,MAAA,QAAA,EAAA,KAAA;AAAA,MAAA,IAAA,EAAA;AAAA,KADA,CAAA;AAGA,WAAA;AACA,MAAA,SAAA,EAAA,KAAA,CAAA,CAAA,CAAA,CAAA,GADA;AAEA,MAAA,KAAA,EAAA,KAFA;AAGA,MAAA,WAAA,EAAA;AAHA,KAAA;AAKA,GAVA;AAWA,EAAA,OAXA,qBAWA;AACA,SAAA,OAAA;AACA,GAbA;AAcA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,kBACA,EADA,EACA,IADA,EACA;AACA,WAAA,OAAA;AACA;AAHA,GAdA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,GADA,EACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,KAHA;AAIA,IAAA,MAJA,kBAIA,SAJA,EAIA,MAJA,EAIA;AACA,WAAA,MAAA,EAAA,SAAA;AACA,KANA;AAOA,IAAA,MAPA,kBAOA,SAPA,EAOA;AACA,UAAA,SAAA,GAAA,KAAA,SAAA;AACA,UAAA,SAAA;AACA,WAAA,KAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA,CAAA,EAAA;AACA,YAAA,IAAA,CAAA,GAAA,KAAA,SAAA,EAAA;AACA,UAAA,SAAA,GAAA,CAAA,GAAA,CAAA;AACA;AACA,OAJA;AAKA,UAAA,KAAA,GAAA,KAAA,KAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,GAAA,KAAA,SAAA;AAAA,OAAA,CAAA;;AACA,UAAA,SAAA,IAAA,CAAA,IAAA,SAAA,KAAA,SAAA,EAAA;AACA,QAAA,SAAA,GAAA,KAAA,CAAA,SAAA,CAAA,CAAA,GAAA;AACA;;AACA,WAAA,KAAA,GAAA,KAAA;AACA,WAAA,SAAA,GAAA,SAAA;AACA,WAAA,QAAA;AACA,KAtBA;AAuBA,IAAA,OAvBA,qBAuBA;AACA,UAAA,IAAA,GAAA,KAAA;AACA,UAAA,OAAA,GAAA,KAAA,MAAA,CAAA,OAAA;AACA,UAAA,SAAA,GAAA,OAAA,CAAA,OAAA,CAAA,MAAA,GAAA,CAAA,CAAA,CAAA,IAAA;AACA,WAAA,KAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,SAAA,IAAA,IAAA,CAAA,GAAA,EAAA,IAAA,GAAA,IAAA;AACA,OAFA;AAGA,UAAA,IAAA,GAAA;AACA,QAAA,KAAA,EAAA,OAAA,CAAA,OAAA,CAAA,MAAA,GAAA,CAAA,CAAA,CAAA,IAAA,CAAA,KADA;AAEA,QAAA,GAAA,EAAA,SAFA;AAGA,QAAA,IAAA,EAAA,OAAA,CAAA,OAAA,CAAA,MAAA,GAAA,CAAA,CAAA,CAAA,IAAA,CAAA;AAHA,OAAA;AAKA,UAAA,CAAA,IAAA,EAAA,KAAA,KAAA,CAAA,IAAA,CAAA,IAAA;AACA,WAAA,SAAA,GAAA,SAAA;AACA,KArCA;AAsCA,IAAA,QAtCA,sBAsCA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA,KAAA;AAAA,OAAA;AACA;AAxCA;AAnBA,CAAA","sourcesContent":["<template>\r\n  <!-- hideAdd\r\n\ttabBarGutter='4' -->\r\n  <div class=\"card-container\">\r\n    <a-tabs\r\n      hideAdd\r\n      v-model=\"activeKey\"\r\n      type=\"editable-card\"\r\n      size=\"small\"\r\n      @edit=\"onEdit\"\r\n      @change=\"onChange\"\r\n    >\r\n      <a-tab-pane\r\n        v-for=\"pane in panes\"\r\n        :key=\"pane.key\"\r\n        :closable=\"pane.closable\"\r\n      >\r\n        <span slot=\"tab\">\r\n          <a-icon :type=\"pane.icon\" />\r\n          {{ pane.title }}\r\n        </span>\r\n      </a-tab-pane>\r\n    </a-tabs>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    const panes = [\r\n      { title: \"首  页\", key: \"/main/\", closable: false, icon: \"cloud\" }\r\n    ];\r\n    return {\r\n      activeKey: panes[0].key,\r\n      panes,\r\n      newTabIndex: 0\r\n    };\r\n  },\r\n  created() {\r\n    this.gettabs();\r\n  },\r\n  watch: {\r\n    $route(to, from) {\r\n      this.gettabs();\r\n    }\r\n  },\r\n  methods: {\r\n    callback(key) {\r\n      console.log(key);\r\n    },\r\n    onEdit(targetKey, action) {\r\n      this[action](targetKey);\r\n    },\r\n    remove(targetKey) {\r\n      let activeKey = this.activeKey;\r\n      let lastIndex;\r\n      this.panes.forEach((pane, i) => {\r\n        if (pane.key === targetKey) {\r\n          lastIndex = i - 1;\r\n        }\r\n      });\r\n      const panes = this.panes.filter(pane => pane.key !== targetKey);\r\n      if (lastIndex >= 0 && activeKey === targetKey) {\r\n        activeKey = panes[lastIndex].key;\r\n      }\r\n      this.panes = panes;\r\n      this.activeKey = activeKey;\r\n      this.onChange();\r\n    },\r\n    gettabs() {\r\n      var flag = false;\r\n      let matched = this.$route.matched;\r\n      const activeKey = matched[matched.length - 1].path;\r\n      this.panes.forEach(item => {\r\n        if (activeKey == item.key) flag = true;\r\n      });\r\n      var pane = {\r\n        title: matched[matched.length - 1].meta.title,\r\n        key: activeKey,\r\n        icon: matched[matched.length - 1].meta.icon\r\n      };\r\n      if (!flag) this.panes.push(pane);\r\n      this.activeKey = activeKey;\r\n    },\r\n    onChange() {\r\n      this.$router.push({ path: this.activeKey });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.card-container {\r\n  background: #f0f2f5;\r\n  overflow: hidden;\r\n  padding: 2px 24px;\r\n  padding-bottom: 0px;\r\n  padding-left: 10px;\r\n  margin-bottom: -2px;\r\n}\r\n.card-container > .ant-tabs-card > .ant-tabs-content {\r\n  margin-top: -15px;\r\n}\r\n\r\n.card-container > .ant-tabs-card > .ant-tabs-content > .ant-tabs-tabpane {\r\n  background: #fff;\r\n}\r\n\r\n.card-container > .ant-tabs-card > .ant-tabs-bar {\r\n  //border-color: #fff;\r\n}\r\n\r\n.card-container > .ant-tabs-card > .ant-tabs-bar .ant-tabs-tab {\r\n  border-color: transparent;\r\n\r\n  line-height: 32px;\r\n  background: #000;\r\n}\r\n.ant-tabs.ant-tabs-card .ant-tabs-card-bar .ant-tabs-tab {\r\n  background: #000;\r\n}\r\n\r\n.card-container > .ant-tabs-card > .ant-tabs-bar .ant-tabs-tab-active {\r\n  border-color: #fff;\r\n  background: #fff;\r\n}\r\n\r\n.ant-tabs.ant-tabs-card .ant-tabs-card-bar .ant-tabs-nav-container {\r\n  height: auto;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/layout"}]}