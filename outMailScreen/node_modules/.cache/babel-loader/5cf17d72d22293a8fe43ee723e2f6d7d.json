{"remainingRequest":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\babel-loader\\lib\\index.js!D:\\mail\\oesbecc\\outMailScreen\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\mail\\oesbecc\\outMailScreen\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\mail\\oesbecc\\outMailScreen\\src\\views\\staffInfo\\edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\mail\\oesbecc\\outMailScreen\\src\\views\\staffInfo\\edit.vue","mtime":1641347650090},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640070690350},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\babel-loader\\lib\\index.js","mtime":1640070643981},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640070690350},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\vue-loader\\lib\\index.js","mtime":1640070694148}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { addStaffInfo, updateStaffInfo } from '@/api/staffInfo.js';\nexport default {\n  data: function data() {\n    return {\n      disabled: '',\n      disabled1: '',\n      showVisible: false,\n      form: this.$form.createForm(this),\n      hackRest: false,\n      dialogType: '',\n      dialogTypeMap: {\n        show: '员工详情',\n        create: '员工新增',\n        update: '员工修改'\n      },\n      SubmitTypeMap: {\n        show: '关闭',\n        create: '确认新增',\n        update: '确认修改'\n      },\n      showCanel: true,\n      rule: {\n        id: {\n          rules: [{\n            required: true,\n            message: '请输入员工编号'\n          }],\n          initialValue: ''\n        },\n        name: {\n          rules: [{\n            required: true,\n            message: '请输入员工名称'\n          }],\n          initialValue: ''\n        },\n        birth: {\n          rules: [{\n            required: true,\n            message: '请输入员工出生日期'\n          }],\n          initialValue: ''\n        },\n        eMail: {\n          rules: [{\n            required: true,\n            message: '请输入员工邮箱'\n          }],\n          initialValue: ''\n        },\n        entry: {\n          rules: [{\n            required: true,\n            message: '请输入员工入职日期'\n          }],\n          initialValue: ''\n        },\n        desx: {\n          rules: [{\n            required: false,\n            message: '请输入员工描述'\n          }],\n          initialValue: ''\n        },\n        status: {\n          rules: [{\n            required: true,\n            message: '请选择在职状态'\n          }],\n          initialValue: '1'\n        }\n      }\n    };\n  },\n  methods: {\n    //查看\n    ShowDialog: function ShowDialog(query) {\n      var _this = this;\n\n      this.disabled = true;\n      this.disabled1 = true;\n      this.showCanel = false;\n      this.showVisible = true;\n      this.iconType = \"copy\";\n      this.dialogType = 'show';\n      this.timeTask = query;\n      this.$nextTick(function () {\n        _this.hackRest = true;\n\n        _this.form.setFieldsValue(query);\n      });\n    },\n    //新增\n    CreateDialog: function CreateDialog() {\n      this.iconType = \"form\";\n      this.showCanel = true;\n      this.disabled = false;\n      this.disabled1 = false;\n      this.showVisible = true;\n      this.dialogType = 'create';\n      this.form.resetFields(); //清除缓存数据\n    },\n    //修改\n    UpdateDialog: function UpdateDialog(query) {\n      var _this2 = this;\n\n      this.iconType = \"form\";\n      this.showCanel = true;\n      this.disabled = false;\n      this.disabled1 = true;\n      this.showVisible = true;\n      this.dialogType = 'update';\n      this.timeTask = query;\n      this.$nextTick(function () {\n        _this2.hackRest = true;\n\n        _this2.form.setFieldsValue(query);\n      });\n    },\n    //关闭\n    onClose: function onClose() {\n      this.showVisible = false;\n      this.form.resetFields();\n    },\n    //提交按钮\n    onSubmit: function onSubmit() {\n      if (this.dialogType == 'show') {\n        this.showVisible = false;\n      }\n\n      if (this.dialogType == 'create') {\n        this.create();\n      }\n\n      if (this.dialogType == 'update') {\n        this.update();\n      }\n    },\n    //新增\n    create: function create() {\n      var _this3 = this;\n\n      this.form.validateFields(function (err, values) {\n        if (!err) {\n          addStaffInfo(values).then(function (res) {\n            //console.log(res)\n            if (res.data.code == '0000') {\n              _this3.$message.success(res.data.message);\n\n              _this3.$emit('fresh');\n            } else {\n              _this3.$message.error(res.data.message);\n            }\n          });\n          _this3.showVisible = false;\n        }\n      });\n    },\n    //修改\n    update: function update() {\n      var _this4 = this;\n\n      this.form.validateFields(function (err, values) {\n        if (!err) {\n          updateStaffInfo(values).then(function (res) {\n            //console.log(res)\n            if (res.data.code == '0000') {\n              _this4.$message.success(res.data.message);\n\n              _this4.$emit('fresh');\n            } else {\n              _this4.$message.error(res.data.message);\n            }\n          });\n          _this4.showVisible = false;\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["edit.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\r\n  <a-drawer placement=\"right\" :closable=\"true\" @close=\"onClose\" :visible=\"showVisible\" width=\"700px\">\r\n\t\t<span slot=\"title\">\r\n\t\t\t<a-icon :type=\"iconType\"/>&nbsp; {{ dialogTypeMap[dialogType] }}\r\n\r\n\t\t</span>\r\n\r\n    <a-form class=\"ant-advanced-search-form\" style=\"border:none;\" :form=\"form\">\r\n      <a-row :gutter=\"24\">\r\n        <a-col :span=\"24\">\r\n          <a-form-item label=\"员工编号\" :label-col=\"{ span: 4 }\" :wrapper-col=\"{ span: 12 }\">\r\n            <a-input placeholder=\"请输入员工编号\" :disabled=\"disabled1\" v-decorator=\"['id',rule.id]\"/>\r\n          </a-form-item>\r\n        </a-col>\r\n\r\n\r\n        <a-col :span=\"24\">\r\n          <a-form-item label=\"员工姓名\" :label-col=\"{ span: 4 }\" :wrapper-col=\"{ span: 12 }\">\r\n            <a-input placeholder=\"请输入员工姓名\" :disabled=\"disabled\" v-decorator=\"['name',rule.name]\"/>\r\n          </a-form-item>\r\n        </a-col>\r\n\r\n        <a-col :span=\"24\">\r\n          <a-form-item label=\"出生日期\" :label-col=\"{ span: 4 }\" :wrapper-col=\"{ span: 12 }\">\r\n            <a-date-picker placeholder=\"请输入出生日期\" style=\"width:100%\" :disabled=\"disabled\"\r\n\r\n                           format=\"yyyy-MM-DD\"\r\n                           valueFormat=\"yyyy-MM-DD\"\r\n\r\n                           v-decorator=\"['birth',rule.birth]\"/>\r\n          </a-form-item>\r\n        </a-col>\r\n\r\n        <a-col :span=\"24\">\r\n          <a-form-item label=\"入职日期\" :label-col=\"{ span: 4 }\" :wrapper-col=\"{ span: 12 }\">\r\n            <a-date-picker placeholder=\"请输入入职日期\" style=\"width:100%\" :disabled=\"disabled\"\r\n                           format=\"yyyy-MM-DD\"\r\n                           valueFormat=\"yyyy-MM-DD\"\r\n                           v-decorator=\"['entry',rule.entry]\"/>\r\n          </a-form-item>\r\n        </a-col>\r\n\r\n        <a-col :span=\"24\">\r\n          <a-form-item label=\"员工描述\" :label-col=\"{ span: 4 }\" :wrapper-col=\"{ span: 12 }\">\r\n            <a-input placeholder=\"请输入员工描述\" :disabled=\"disabled\" v-decorator=\"['desx',rule.desx]\"/>\r\n          </a-form-item>\r\n        </a-col>\r\n\r\n        <a-col :span=\"24\">\r\n          <a-form-item label=\"Email\" :label-col=\"{ span: 4 }\" :wrapper-col=\"{ span: 12 }\">\r\n            <a-input placeholder=\"请输入员工邮箱\" :disabled=\"disabled\" v-decorator=\"['eMail',rule.eMail]\"/>\r\n          </a-form-item>\r\n        </a-col>\r\n\r\n        <a-col :span=\"24\">\r\n          <a-form-item label=\"在职状态\" :label-col=\"{ span: 4 }\" :wrapper-col=\"{ span: 12 }\">\r\n            <template>\r\n              <a-radio-group name='status' :disabled=\"disabled\" v-decorator=\"['status',rule.status]\">\r\n                <a-radio value=\"0\">离职</a-radio>\r\n                <a-radio value=\"1\">在职</a-radio>\r\n              </a-radio-group>\r\n            </template>\r\n          </a-form-item>\r\n        </a-col>\r\n\r\n      </a-row>\r\n    </a-form>\r\n    <div :style=\"{\r\n                 position: 'absolute',\r\n                 left: 0,\r\n                 bottom: 0,\r\n                 width: '100%',\r\n                 borderTop: '1px solid #e9e9e9',\r\n                 padding: '10px 16px',\r\n                 background: '#fff',\r\n                 textAlign: 'right',\r\n               }\">\r\n      <a-button :style=\"{marginRight: '8px'}\" @click=\"onClose\" v-if=\"showCanel\"> 取消</a-button>\r\n      <a-button @click=\"onSubmit\" type=\"primary\">{{ SubmitTypeMap[dialogType] }}</a-button>\r\n    </div>\r\n  </a-drawer>\r\n\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  addStaffInfo,\r\n  updateStaffInfo\r\n} from '@/api/staffInfo.js';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      disabled: '',\r\n      disabled1: '',\r\n      showVisible: false,\r\n      form: this.$form.createForm(this),\r\n      hackRest: false,\r\n      dialogType: '',\r\n      dialogTypeMap: {\r\n        show: '员工详情',\r\n        create: '员工新增',\r\n        update: '员工修改'\r\n      },\r\n      SubmitTypeMap: {\r\n        show: '关闭',\r\n        create: '确认新增',\r\n        update: '确认修改',\r\n      },\r\n      showCanel: true,\r\n      rule: {\r\n        id: {\r\n          rules: [{\r\n            required: true,\r\n            message: '请输入员工编号'\r\n          }],\r\n          initialValue: ''\r\n        },\r\n        name: {\r\n          rules: [{\r\n            required: true,\r\n            message: '请输入员工名称'\r\n          }],\r\n          initialValue: ''\r\n        },\r\n        birth: {\r\n          rules: [{\r\n            required: true,\r\n            message: '请输入员工出生日期'\r\n          }],\r\n          initialValue: ''\r\n        },\r\n        eMail: {\r\n          rules: [{\r\n            required: true,\r\n            message: '请输入员工邮箱'\r\n          }],\r\n          initialValue: ''\r\n        },\r\n        entry: {\r\n          rules: [{\r\n            required: true,\r\n            message: '请输入员工入职日期'\r\n          }],\r\n          initialValue: ''\r\n        },\r\n        desx: {\r\n          rules: [{\r\n            required: false,\r\n            message: '请输入员工描述'\r\n          }],\r\n          initialValue: ''\r\n        },\r\n\r\n        status: {\r\n          rules: [{\r\n            required: true,\r\n            message: '请选择在职状态'\r\n          }],\r\n          initialValue: '1'\r\n        },\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    //查看\r\n    ShowDialog(query) {\r\n      this.disabled = true\r\n      this.disabled1 = true\r\n      this.showCanel = false\r\n      this.showVisible = true\r\n      this.iconType = \"copy\";\r\n      this.dialogType = 'show'\r\n      this.timeTask = query\r\n      this.$nextTick(() => {\r\n        this.hackRest = true;\r\n        this.form.setFieldsValue(query)\r\n      });\r\n    },\r\n\r\n    //新增\r\n    CreateDialog() {\r\n      this.iconType = \"form\";\r\n      this.showCanel = true\r\n      this.disabled = false\r\n      this.disabled1 = false\r\n      this.showVisible = true\r\n      this.dialogType = 'create'\r\n      this.form.resetFields(); //清除缓存数据\r\n    },\r\n    //修改\r\n    UpdateDialog(query) {\r\n      this.iconType = \"form\";\r\n      this.showCanel = true\r\n      this.disabled = false\r\n      this.disabled1 = true\r\n      this.showVisible = true\r\n      this.dialogType = 'update'\r\n      this.timeTask = query\r\n      this.$nextTick(() => {\r\n        this.hackRest = true;\r\n        this.form.setFieldsValue(query)\r\n      });\r\n\r\n    },\r\n    //关闭\r\n    onClose() {\r\n      this.showVisible = false;\r\n      this.form.resetFields();\r\n    },\r\n    //提交按钮\r\n    onSubmit() {\r\n      if (this.dialogType == 'show') {\r\n        this.showVisible = false\r\n      }\r\n      if (this.dialogType == 'create') {\r\n        this.create();\r\n      }\r\n      if (this.dialogType == 'update') {\r\n        this.update();\r\n      }\r\n    },\r\n    //新增\r\n    create() {\r\n      this.form.validateFields((err, values) => {\r\n        if (!err) {\r\n          addStaffInfo(values).then(res => {\r\n            //console.log(res)\r\n            if (res.data.code == '0000') {\r\n              this.$message.success(res.data.message)\r\n              this.$emit('fresh')\r\n\r\n            } else {\r\n              this.$message.error(res.data.message)\r\n            }\r\n          })\r\n          this.showVisible = false\r\n        }\r\n      });\r\n    },\r\n    //修改\r\n    update() {\r\n      this.form.validateFields((err, values) => {\r\n        if (!err) {\r\n          updateStaffInfo(values).then(res => {\r\n            //console.log(res)\r\n            if (res.data.code == '0000') {\r\n              this.$message.success(res.data.message)\r\n              this.$emit('fresh')\r\n            } else {\r\n              this.$message.error(res.data.message)\r\n            }\r\n          })\r\n          this.showVisible = false\r\n        }\r\n      });\r\n    },\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/views/staffInfo"}]}