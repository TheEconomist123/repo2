{"remainingRequest":"D:\\oesbecc\\outScreen\\node_modules\\thread-loader\\dist\\cjs.js!D:\\oesbecc\\outScreen\\node_modules\\babel-loader\\lib\\index.js!D:\\oesbecc\\outScreen\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\oesbecc\\outScreen\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\oesbecc\\outScreen\\src\\views\\timeTask\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\oesbecc\\outScreen\\src\\views\\timeTask\\index.vue","mtime":1637304821620},{"path":"D:\\oesbecc\\outScreen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626312140594},{"path":"D:\\oesbecc\\outScreen\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1626312141832},{"path":"D:\\oesbecc\\outScreen\\node_modules\\babel-loader\\lib\\index.js","mtime":1626312110547},{"path":"D:\\oesbecc\\outScreen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626312140594},{"path":"D:\\oesbecc\\outScreen\\node_modules\\vue-loader\\lib\\index.js","mtime":1626312141896}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getAllJobsByPage, delJob, forbidJob, startJob } from '@/api/index.js';\nimport edit from \"./edit\";\nexport default {\n  filters: {\n    statusFilter: function statusFilter(status) {\n      var statusMap = {\n        '0': '启用',\n        '1': '禁用'\n      };\n      return statusMap[status];\n    },\n    FstatusFilter: function FstatusFilter(status) {\n      var statusMap = {\n        '1': '启用',\n        '0': '禁用'\n      };\n      return statusMap[status];\n    }\n  },\n  data: function data() {\n    var _this2 = this;\n\n    return {\n      expand: false,\n      loading: false,\n      form: this.$form.createForm(this),\n      columns: [{\n        title: '作业名称',\n        dataIndex: 'processName'\n      }, {\n        title: 'Java类名',\n        dataIndex: 'className'\n      }, {\n        title: '组名',\n        dataIndex: 'groupName'\n      }, {\n        title: '调度表达式',\n        dataIndex: 'cronExpr'\n      }, {\n        title: '调度说明',\n        dataIndex: 'scheduleDesc'\n      }, {\n        title: '状态',\n        dataIndex: 'isValid',\n        align: 'center',\n        scopedSlots: {\n          customRender: 'status_2'\n        }\n      }, {\n        title: '操作',\n        dataIndex: 'operation',\n        width: '160px',\n        align: 'center',\n        scopedSlots: {\n          customRender: 'operation'\n        }\n      }],\n      list: [],\n      pagination: {\n        total: 0,\n        defaultPageSize: 5,\n        showTotal: function showTotal(total) {\n          return \"\\u5171 \".concat(total, \" \\u6761\\u6570\\u636E\");\n        },\n        showSizeChanger: true,\n        pageSizeOptions: ['5', '10', '15', '20'],\n        onChange: function onChange(page, pageSize) {\n          _this2.pagechage(page, pageSize);\n        },\n        onShowSizeChange: function onShowSizeChange(current, pageSize) {\n          _this2.pageSizeChange(pageSize);\n        }\n      },\n      showVisible: false,\n      record: {},\n      listQuery: {\n        processName: '',\n        isValid: '',\n        pageNum: 1,\n        pageSize: 5\n      }\n    };\n  },\n  components: {\n    edit: edit\n  },\n  computed: {\n    count: function count() {\n      return this.expand ? 11 : 3;\n    }\n  },\n  created: function created() {\n    this.getList();\n  },\n  methods: {\n    //列表展示和搜索\n    getList: function getList() {\n      var _this3 = this;\n\n      this.loading = true;\n      getAllJobsByPage(this.listQuery).then(function (res) {\n        if (res.data.code == '0000') {\n          _this3.loading = false; //console.log(res)\n\n          _this3.list = res.data.extend.list;\n          _this3.pagination.total = res.data.extend.total;\n        } else {\n          _this3.loading = false;\n\n          _this3.$message.error(res.data.message);\n        }\n      });\n    },\n    handleReset: function handleReset() {\n      this.form.resetFields();\n    },\n    //查看更多\n    showlist: function showlist(row) {\n      this.$refs.edit.ShowDialog(Object.assign({}, row));\n    },\n    //新增\n    createlist: function createlist() {\n      this.$refs.edit.CreateDialog();\n    },\n    //删除\n    deletList: function deletList(row) {\n      if (row.isValid == 0) {\n        this.$info({\n          title: '提示',\n          content: '启用状态下不可删除！'\n        });\n      } else {\n        var _this = this;\n\n        this.$confirm({\n          title: '确认删除？',\n          content: '确认删除本条记录，删除后不可恢复',\n          okType: 'danger',\n          onOk: function onOk() {\n            delJob({\n              processId: row.processId\n            }).then(function (res) {\n              //console.log(res)\n              if (res.data.code == '0000') {\n                _this.getList();\n\n                _this.$message.success(res.data.message);\n              } else {\n                _this.$message.error(res.data.message);\n              }\n            });\n          }\n        });\n      }\n    },\n    //修改\n    update: function update(row) {\n      this.$refs.edit.UpdateDialog(row);\n    },\n    //修改状态\n    updatestatue: function updatestatue(query) {\n      var _this = this;\n\n      var processId = query.processId;\n\n      if (query.isValid == '0') {\n        // 0=》 启用    1 =》停用\n        forbidJob({\n          processId: processId\n        }).then(function (res) {\n          if (res.data.code == \"0000\") {\n            _this.getList();\n\n            _this.$message.success(res.data.message);\n          } else {\n            _this.$message.error(res.data.message);\n          }\n        });\n      } else {\n        startJob({\n          processId: processId\n        }).then(function (res) {\n          if (res.data.code == \"0000\") {\n            _this.getList();\n\n            _this.$message.success(res.data.message);\n          } else {\n            _this.$message.error(res.data.message);\n          }\n        });\n      }\n    },\n    //刷新数据\n    fresh: function fresh() {\n      this.getList();\n    },\n    onClose: function onClose() {\n      this.showVisible = false;\n    },\n    toggle: function toggle() {\n      this.expand = !this.expand;\n    },\n    pagechage: function pagechage(page, pageSize) {\n      this.listQuery.pageNum = page;\n      this.listQuery.pageSize = pageSize;\n      this.getList();\n    },\n    pageSizeChange: function pageSizeChange(pageSize) {\n      this.listQuery.pageNum = 1;\n      this.listQuery.pageSize = pageSize;\n      this.getList();\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\r\n  <div class=\"components-form-demo-advanced-search\">\r\n    <a-form class=\"ant-advanced-search-form\"\r\n            :form=\"form\"\r\n            @submit=\"\" style=\"border:none;\">\r\n      <a-row :gutter=\"24\">\r\n        <a-col :span=\"6\">\r\n          <a-form-item label=\"作业名称\" :label-col=\"{ span: 8 }\" :wrapper-col=\"{ span: 12 }\">\r\n            <a-input v-model=\"listQuery.processName\" placeholder=\"请输入作业名称\" />\r\n          </a-form-item>\r\n        </a-col>\r\n\t\t\r\n\t\t<a-col :span=\"6\">\r\n\t\t  <a-form-item label=\"状态\" :label-col=\"{ span: 8 }\" :wrapper-col=\"{ span: 12 }\" >\r\n\t\t\t<a-select defaultValue=\"0\" style=\"width: 100%\" @change=\"\" v-model=\"listQuery.isValid\" placeholder=\"请选择状态\" >\r\n\t\t\t  <a-select-option value=\"1\">禁用</a-select-option>\r\n\t\t\t  <a-select-option value=\"0\">启用</a-select-option>\r\n\t\t\t  \r\n\t\t\t</a-select>\r\n\t\t  </a-form-item>\r\n\t\t</a-col>\r\n\t\t\r\n      \r\n        <a-col :span=\"8\">\r\n          <a-form-item>\r\n\t\t\t  <a-button type=\"primary\" @click=\"getList\">\r\n\t\t\t\t搜索\r\n\t\t\t  </a-button>\r\n\t\t\t  \r\n\t\t  </a-form-item>\r\n        </a-col>\r\n      </a-row>\r\n    </a-form>\r\n    <div class=\"search-result-list\">\r\n\t\t<div class=\"table-operations\" >\r\n\t\t\t\r\n\t\t\t<a-button type=\"dashed\" block style='margin:0;' @click=\"createlist()\">+ 新增</a-button>\r\n\t\t</div>\r\n      <a-table :columns=\"columns\" :dataSource=\"list\" bordered :pagination=\"pagination\" :loading='loading' >\r\n        <span slot=\"status_1\" slot-scope=\"status\">\r\n            <a-badge :status=\"status=='运行'?'success':'error'\"/>\r\n            {{status}}\r\n\t\t\t\r\n        </span>\r\n\t\t\r\n\t\t<span slot=\"status_2\" slot-scope=\"status\">\r\n\t\t     <a-badge :status=\"status=='0'?'success':'error'\"/>\r\n\t\t     {{status | statusFilter}}\r\n\t\t\t\t\t\r\n\t\t </span>\r\n\t\t\r\n        <span slot=\"operation\" slot-scope=\"text,recoed\">\r\n\t\t\t<a  @click=\"showlist(recoed)\">查看</a>\r\n\t\t\t<a-divider type=\"vertical\" />\r\n\t\t\t<a-dropdown>\r\n\t\t\t  <a class=\"ant-dropdown-link\" href=\"javascript:;\">\r\n\t\t\t\t更多 <a-icon type=\"down\" />\r\n\t\t\t  </a>\r\n\t\t\t  <a-menu slot=\"overlay\">\r\n\t\t\t\t<a-menu-item>\r\n\t\t\t\t  <a href=\"javascript:;\" @click=\"update(recoed)\">修改</a>\r\n\t\t\t\t</a-menu-item>\r\n\t\t\t\t<a-menu-item>\r\n\t\t\t\t  <a href=\"javascript:;\" @click=\"deletList(recoed)\">删除</a>\r\n\t\t\t\t</a-menu-item>\r\n\t\t\t\t\r\n\t\t\t\t<a-menu-item>\r\n\t\t\t\t  <a href=\"javascript:;\" @click=\"updatestatue(recoed)\">{{recoed.isValid | FstatusFilter}}</a>\r\n\t\t\t\t</a-menu-item>\r\n\t\t\t  </a-menu>\r\n\t\t\t</a-dropdown>\r\n\t\t\t\r\n\t\t</span>\r\n\t\t\r\n\r\n      </a-table>\r\n    </div>\r\n        <edit ref='edit' @fresh=\"fresh\"/>\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nimport {getAllJobsByPage ,delJob,forbidJob,startJob} from '@/api/index.js';\r\nimport edit from './edit';\r\n\r\n  export default {\r\n\tfilters:{\r\n\t\tstatusFilter(status){\r\n\t\t\tconst statusMap={\r\n\t\t\t\t'0':'启用',\r\n\t\t\t\t'1':'禁用'\r\n\t\t\t}\r\n\t\t\treturn statusMap[status]\r\n\t\t},\r\n\t\tFstatusFilter(status){\r\n\t\t\tconst statusMap={\r\n\t\t\t\t'1':'启用',\r\n\t\t\t\t'0':'禁用'\r\n\t\t\t}\r\n\t\t\treturn statusMap[status]\r\n\t\t}\r\n\t},\r\n    data() {\r\n      return {\r\n        expand: false,\r\n\t\tloading:false,\r\n        form: this.$form.createForm(this),\r\n        columns: [\r\n\t\t  { title: '作业名称', dataIndex: 'processName' },\r\n          { title: 'Java类名', dataIndex: 'className' },\r\n\t\t  { title: '组名', dataIndex: 'groupName'},\r\n          { title: '调度表达式', dataIndex: 'cronExpr' },\r\n\t\t  { title: '调度说明', dataIndex: 'scheduleDesc'},\r\n          { title: '状态', dataIndex: 'isValid',align:'center', scopedSlots: { customRender: 'status_2' } },\r\n          { title: '操作',    dataIndex: 'operation',width:'160px',align:'center', scopedSlots: { customRender: 'operation' } }\r\n        ],\r\n        list: [\r\n        ],\r\n        pagination: {\r\n\t\t\t total:0,\r\n             defaultPageSize:5,\r\n             showTotal: total => `共 ${total} 条数据`,\r\n             showSizeChanger:true,\r\n             pageSizeOptions: ['5', '10', '15', '20'],\r\n             onChange:(page, pageSize)=>{\r\n               this.pagechage(page, pageSize);\r\n             },\r\n\t\t\t onShowSizeChange:(current,pageSize)=>{\r\n\t\t\t\t this.pageSizeChange(pageSize);\r\n\t\t\t }\r\n        },\r\n        showVisible: false,\r\n        record:{},\r\n\t\t\r\n\t\tlistQuery:{\r\n\t\t\tprocessName:'',\r\n\t\t\tisValid:'',\r\n\t\t\tpageNum:1,\r\n\t\t\tpageSize:5\r\n\t\t},\r\n\t\t\r\n      }\r\n    },\r\n    components:{\r\n      edit\r\n    },\r\n    computed: {\r\n      count() {\r\n        return this.expand ? 11 : 3\r\n      }\r\n    },\r\n\tcreated(){\r\n\t\tthis.getList()\r\n\t},\r\n    methods: {\r\n\t\t//列表展示和搜索\r\n\t\tgetList(){\r\n\t\t\tthis.loading=true\r\n\t\t\t getAllJobsByPage(this.listQuery).then(res=>{\r\n\t\t\t\tif(res.data.code=='0000'){\r\n\t\t\t\t\tthis.loading=false\r\n\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\tthis.list = res.data.extend.list\r\n\t\t\t\t\tthis.pagination.total = res.data.extend.total;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.loading=false\r\n\t\t\t\t\tthis.$message.error(res.data.message)\r\n\t\t\t\t}\r\n\t\t\t })\r\n\t\t},\r\n\t\t\r\n\r\n\t\t  handleReset() {\r\n\t\t\tthis.form.resetFields()\r\n\t\t  },\r\n\r\n\t\t//查看更多\r\n\t\t  showlist(row) {\r\n\t\t\tthis.$refs.edit.ShowDialog(Object.assign({},row));\r\n\t\t  },\r\n\t\t  \r\n\t\t  //新增\r\n\t\t  createlist() {\r\n\t\t\tthis.$refs.edit.CreateDialog();\r\n\t\t  },\r\n\t\t  \r\n\t\t  //删除\r\n\t\t  deletList(row){\r\n\t\t\t  if(row.isValid==0){\r\n\t\t\t\tthis.$info({\r\n\t\t\t\t\ttitle:'提示',\r\n\t\t\t\t\tcontent:'启用状态下不可删除！',\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t  }else{\r\n\t\t\t\tvar _this=this\r\n\t\t\t\tthis.$confirm({\r\n\t\t\t\t  title:'确认删除？',\r\n\t\t\t\t  content:'确认删除本条记录，删除后不可恢复',\r\n\t\t\t\t  okType:'danger',\r\n\t\t\t\t  onOk(){\r\n\t\t\t\t\tdelJob({processId:row.processId}).then(res=>{\r\n\t\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\tif(res.data.code=='0000'){\r\n\t\t\t\t\t\t\t_this.getList()\r\n\t\t\t\t\t\t\t_this.$message.success(res.data.message)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_this.$message.error(res.data.message)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t  },\r\n\t\t\t\t\t\t\t\t  \r\n\t\t\t\t})\r\n\t\t\t  }\r\n\t\t\t  \r\n\t\t  },\r\n\t\t  \r\n\t\t  //修改\r\n\t\t  update(row){\r\n\t\t\tthis.$refs.edit.UpdateDialog(row);  \r\n\t\t  },\r\n\t\t  \r\n\t\t  //修改状态\r\n\t\t  updatestatue(query){\r\n\t\t\tvar _this=this\r\n\t\t\tvar processId=query.processId\r\n\t\t\tif(query.isValid=='0'){// 0=》 启用    1 =》停用\r\n\t\t\t\tforbidJob({processId:processId}).then(res=>{\r\n\t\t\t\t\tif(res.data.code==\"0000\"){\r\n\t\t\t\t\t\t_this.getList()\r\n\t\t\t\t\t\t_this.$message.success(res.data.message)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t_this.$message.error(res.data.message)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}else{\r\n\t\t\t\tstartJob({processId:processId}).then(res=>{\r\n\t\t\t\t\tif(res.data.code==\"0000\"){\r\n\t\t\t\t\t\t_this.getList()\r\n\t\t\t\t\t\t_this.$message.success(res.data.message)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t_this.$message.error(res.data.message)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t\t  },\r\n\t\t  \r\n\t\t  //刷新数据\r\n\t\t  fresh(){\r\n\t\t\t  this.getList()\r\n\t\t  },\r\n\t\t   \r\n\t\t  onClose() {\r\n\t\t\tthis.showVisible = false\r\n\t\t  },\r\n\r\n\t\t  toggle() {\r\n\t\t\tthis.expand = !this.expand\r\n\t\t  },\r\n\t\t  pagechage(page, pageSize){\r\n\t\t\tthis.listQuery.pageNum = page;\r\n\t\t\tthis.listQuery.pageSize = pageSize;\r\n\t\t\tthis.getList();\r\n\t\t  },\r\n\t\t  pageSizeChange(pageSize){\r\n\t\t\t  this.listQuery.pageNum = 1;\r\n\t\t\t  this.listQuery.pageSize = pageSize;\r\n\t\t\t  this.getList();\r\n\t\t  }\r\n    }\r\n  }\r\n\r\n</script>\r\n<style>\r\n\r\n  .ant-advanced-search-form {\r\n    padding: 0px 12px;\r\n    border: 1px solid #d9d9d9;\r\n    border-radius: 6px;\r\n  }\r\n\r\n  .ant-advanced-search-form .ant-form-item {\r\n    display: flex;\r\n  }\r\n\r\n  .ant-advanced-search-form .ant-form-item-control-wrapper {\r\n    flex: 1;\r\n  }\r\n\r\n  .components-form-demo-advanced-search .ant-form {\r\n    max-width: none;\r\n    border-radius: 4px;\r\n  }\r\n  .components-form-demo-advanced-search .search-result-list {\r\n    margin-top: 5px;\r\n    text-align: center;\r\n    padding: 4px 12px;\r\n  }\r\n\r\n  #test .ant-row {\r\n    margin: 10px;\r\n  }\r\n\r\n  .table-operations {\r\n    text-align: right;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.table-operations > button {\r\n  margin-right: 18px;\r\n}\r\n\r\n\r\n\r\n</style>\r\n"],"sourceRoot":"src/views/timeTask"}]}