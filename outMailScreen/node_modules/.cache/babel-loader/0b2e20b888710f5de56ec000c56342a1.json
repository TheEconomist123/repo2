{"remainingRequest":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\babel-loader\\lib\\index.js!D:\\mail\\oesbecc\\outMailScreen\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\mail\\oesbecc\\outMailScreen\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\mail\\oesbecc\\outMailScreen\\src\\views\\login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\mail\\oesbecc\\outMailScreen\\src\\views\\login\\index.vue","mtime":1640599472441},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640070690350},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\babel-loader\\lib\\index.js","mtime":1640070643981},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640070690350},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\vue-loader\\lib\\index.js","mtime":1640070694148}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getMenusByUserId, login } from \"@/api/system.js\";\n\nfunction hasErrors(fieldsError) {\n  return Object.keys(fieldsError).some(function (field) {\n    return fieldsError[field];\n  });\n}\n\nexport default {\n  data: function data() {\n    return {\n      hasErrors: hasErrors,\n      form: this.$form.createForm(this),\n      redirect: undefined\n    };\n  },\n  watch: {\n    $route: {\n      handler: function handler(route) {\n        this.redirect = route.query && route.query.redirect;\n      },\n      immediate: true\n    }\n  },\n  created: function created() {\n    if (this.$store.getters.token != \"\") {\n      this.$router.push({\n        path: this.redirect || \"/\"\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      // To disabled submit button at the beginning.\n      _this2.form.validateFields();\n    });\n  },\n  methods: {\n    // Only show error after a field is touched.\n    userNameError: function userNameError() {\n      var _this$form = this.form,\n          getFieldError = _this$form.getFieldError,\n          isFieldTouched = _this$form.isFieldTouched;\n      return isFieldTouched(\"userName\") && getFieldError(\"userName\");\n    },\n    // Only show error after a field is touched.\n    passwordError: function passwordError() {\n      var _this$form2 = this.form,\n          getFieldError = _this$form2.getFieldError,\n          isFieldTouched = _this$form2.isFieldTouched;\n      return isFieldTouched(\"password\") && getFieldError(\"password\");\n    },\n    handleSubmit: function handleSubmit(e) {\n      var _this3 = this;\n\n      var _this = this;\n\n      this.form.validateFields(function (err, values) {\n        if (!err) {\n          console.log(\"Received values of form: \", values);\n\n          _this3.$store.dispatch(\"Login\", {\n            login: values.login,\n            passwd: _this3.$md5(values.passwd)\n          }).then(function () {\n            _this3.$router.push({\n              path: _this3.redirect || \"/\"\n            });\n          });\n        } else {}\n      });\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA,SAAA,gBAAA,EAAA,KAAA,QAAA,iBAAA;;AACA,SAAA,SAAA,CAAA,WAAA,EAAA;AACA,SAAA,MAAA,CAAA,IAAA,CAAA,WAAA,EAAA,IAAA,CAAA,UAAA,KAAA;AAAA,WAAA,WAAA,CAAA,KAAA,CAAA;AAAA,GAAA,CAAA;AACA;;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,SADA;AAEA,MAAA,IAAA,EAAA,KAAA,KAAA,CAAA,UAAA,CAAA,IAAA,CAFA;AAGA,MAAA,QAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AACA,MAAA,OAAA,EAAA,iBAAA,KAAA,EAAA;AACA,aAAA,QAAA,GAAA,KAAA,CAAA,KAAA,IAAA,KAAA,CAAA,KAAA,CAAA,QAAA;AACA,OAHA;AAIA,MAAA,SAAA,EAAA;AAJA;AADA,GARA;AAgBA,EAAA,OAhBA,qBAgBA;AACA,QAAA,KAAA,MAAA,CAAA,OAAA,CAAA,KAAA,IAAA,EAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA,KAAA,QAAA,IAAA;AAAA,OAAA;AACA;AACA,GApBA;AAqBA,EAAA,OArBA,qBAqBA;AAAA;;AACA,SAAA,SAAA,CAAA,YAAA;AACA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,cAAA;AACA,KAHA;AAIA,GA1BA;AA2BA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,aAFA,2BAEA;AAAA,uBACA,KAAA,IADA;AAAA,UACA,aADA,cACA,aADA;AAAA,UACA,cADA,cACA,cADA;AAEA,aAAA,cAAA,CAAA,UAAA,CAAA,IAAA,aAAA,CAAA,UAAA,CAAA;AACA,KALA;AAMA;AACA,IAAA,aAPA,2BAOA;AAAA,wBACA,KAAA,IADA;AAAA,UACA,aADA,eACA,aADA;AAAA,UACA,cADA,eACA,cADA;AAEA,aAAA,cAAA,CAAA,UAAA,CAAA,IAAA,aAAA,CAAA,UAAA,CAAA;AACA,KAVA;AAWA,IAAA,YAXA,wBAWA,CAXA,EAWA;AAAA;;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,WAAA,IAAA,CAAA,cAAA,CAAA,UAAA,GAAA,EAAA,MAAA,EAAA;AACA,YAAA,CAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,2BAAA,EAAA,MAAA;;AACA,UAAA,MAAA,CAAA,MAAA,CACA,QADA,CACA,OADA,EACA;AACA,YAAA,KAAA,EAAA,MAAA,CAAA,KADA;AAEA,YAAA,MAAA,EAAA,MAAA,CAAA,IAAA,CAAA,MAAA,CAAA,MAAA;AAFA,WADA,EAKA,IALA,CAKA,YAAA;AACA,YAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,cAAA,IAAA,EAAA,MAAA,CAAA,QAAA,IAAA;AAAA,aAAA;AACA,WAPA;AAQA,SAVA,MAUA,CACA;AACA,OAbA;AAcA;AA3BA;AA3BA,CAAA","sourcesContent":["<template>\r\n  <div class=\"login\">\r\n    <div class=\"login-center\">\r\n      <a-form\r\n        class=\"login-form\"\r\n        :form=\"form\"\r\n        @submit=\"handleSubmit\"\r\n        :style=\"{ textAlign: 'center' }\"\r\n      >\r\n        <p class=\"login_title\">盈达邮件管理系统</p>\r\n\r\n        <a-form-item\r\n          :validate-status=\"userNameError() ? 'error' : ''\"\r\n          :help=\"userNameError() || ''\"\r\n        >\r\n          <a-input\r\n            v-decorator=\"[\r\n              'login',\r\n              {\r\n                rules: [\r\n                  { required: true, message: 'Please input your username!' }\r\n                ]\r\n              }\r\n            ]\"\r\n            placeholder=\"请输入用户名\"\r\n          >\r\n            <a-icon slot=\"suffix\" type=\"user\" style=\"color:rgba(0,0,0,.25)\" />\r\n          </a-input>\r\n        </a-form-item>\r\n        <a-form-item\r\n          :validate-status=\"passwordError() ? 'error' : ''\"\r\n          :help=\"passwordError() || ''\"\r\n        >\r\n          <a-input\r\n            v-decorator=\"[\r\n              'passwd',\r\n              {\r\n                rules: [\r\n                  { required: true, message: 'Please input your Password!' }\r\n                ]\r\n              }\r\n            ]\"\r\n            type=\"password\"\r\n            placeholder=\"请输入密码\"\r\n          >\r\n            <a-icon slot=\"suffix\" type=\"lock\" style=\"color:rgba(0,0,0,.25)\" />\r\n          </a-input>\r\n        </a-form-item>\r\n        <a-form-item>\r\n          <a-button\r\n            type=\"primary\"\r\n            html-type=\"submit\"\r\n            :style=\"{ width: '100%' }\"\r\n          >\r\n            登录\r\n          </a-button>\r\n        </a-form-item>\r\n      </a-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getMenusByUserId, login } from \"@/api/system.js\";\r\nfunction hasErrors(fieldsError) {\r\n  return Object.keys(fieldsError).some(field => fieldsError[field]);\r\n}\r\nexport default {\r\n  data() {\r\n    return {\r\n      hasErrors,\r\n      form: this.$form.createForm(this),\r\n      redirect: undefined\r\n    };\r\n  },\r\n  watch: {\r\n    $route: {\r\n      handler: function(route) {\r\n        this.redirect = route.query && route.query.redirect;\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  created() {\r\n    if (this.$store.getters.token != \"\") {\r\n      this.$router.push({ path: this.redirect || \"/\" });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      // To disabled submit button at the beginning.\r\n      this.form.validateFields();\r\n    });\r\n  },\r\n  methods: {\r\n    // Only show error after a field is touched.\r\n    userNameError() {\r\n      const { getFieldError, isFieldTouched } = this.form;\r\n      return isFieldTouched(\"userName\") && getFieldError(\"userName\");\r\n    },\r\n    // Only show error after a field is touched.\r\n    passwordError() {\r\n      const { getFieldError, isFieldTouched } = this.form;\r\n      return isFieldTouched(\"password\") && getFieldError(\"password\");\r\n    },\r\n    handleSubmit(e) {\r\n      let _this = this;\r\n      this.form.validateFields((err, values) => {\r\n        if (!err) {\r\n          console.log(\"Received values of form: \", values);\r\n          this.$store\r\n            .dispatch(\"Login\", {\r\n              login: values.login,\r\n              passwd: this.$md5(values.passwd)\r\n            })\r\n            .then(() => {\r\n              this.$router.push({ path: this.redirect || \"/\" });\r\n            });\r\n        } else {\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.login {\r\n  height: 100vh;\r\n  background: url(\"../../assets/login/login-bg.jpg\");\r\n  background-size: cover;\r\n  border-color: red;\r\n}\r\n\r\n.login-center {\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  margin-top: -165px;\r\n  margin-left: -300px;\r\n  background: url(\"../../assets/login/login_bg1.png\");\r\n  background-size: cover;\r\n  height: 330px;\r\n  width: 600px;\r\n  box-shadow: 5px 10px 15px 2px rgba(0, 0, 0, 0.4);\r\n}\r\n\r\n.login-form {\r\n  margin-left: 370px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.ant-input-affix-wrapper .ant-input {\r\n  border-radius: 0px;\r\n  border: none;\r\n  border-bottom-width: 1px;\r\n  border-bottom-style: solid;\r\n  box-shadow: none;\r\n}\r\n\r\n.ant-input-affix-wrapper .ant-input:focus {\r\n  border-radius: 0px;\r\n  border: none;\r\n  border-bottom-width: 1px;\r\n  border-bottom-style: solid;\r\n  box-shadow: none;\r\n}\r\n\r\n.login_title {\r\n  margin-top: 50px;\r\n  margin-bottom: 30px;\r\n  font-weight: bold;\r\n  font-size: 18px;\r\n  font-family: \"apple\";\r\n  letter-spacing: 4px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/login"}]}