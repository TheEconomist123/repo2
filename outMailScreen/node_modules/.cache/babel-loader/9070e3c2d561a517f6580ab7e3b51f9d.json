{"remainingRequest":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\babel-loader\\lib\\index.js!D:\\mail\\oesbecc\\outMailScreen\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\mail\\oesbecc\\outMailScreen\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\mail\\oesbecc\\outMailScreen\\src\\views\\user\\edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\mail\\oesbecc\\outMailScreen\\src\\views\\user\\edit.vue","mtime":1640676630008},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640070690350},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\babel-loader\\lib\\index.js","mtime":1640070643981},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640070690350},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\vue-loader\\lib\\index.js","mtime":1640070694148}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getRoleByUserId } from '@/api/system.js';\nexport default {\n  filters: {\n    statusFilter: function statusFilter(status) {\n      var statusMap = {\n        '1': '启用',\n        '0': '禁用'\n      };\n      return statusMap[status];\n    }\n  },\n  data: function data() {\n    var _this = this;\n\n    return {\n      iconType: 'from',\n      form: this.$form.createForm(this),\n      dialogTypeMap: {\n        show: '用户详情',\n        create: '用户新增',\n        update: '用户修改'\n      },\n      hackRest: false,\n      SubmitTypeMap: {\n        show: '确认',\n        create: '提交',\n        update: '提交'\n      },\n      showVisible: false,\n      rule: {\n        login: {\n          rules: [{\n            required: true,\n            message: '请输入用户名'\n          }],\n          initialValue: ''\n        },\n        name: {\n          rules: [{\n            required: true,\n            message: '请输入姓名'\n          }],\n          initialValue: ''\n        },\n        status: {\n          rules: [{\n            required: true,\n            message: '请选择状态'\n          }],\n          initialValue: '1'\n        }\n      },\n      columns: [{\n        title: '角色ID',\n        dataIndex: 'id',\n        align: 'center'\n      }, {\n        title: '角色名称',\n        dataIndex: 'name',\n        align: 'center'\n      }, {\n        title: '角色描述',\n        dataIndex: 'desc',\n        align: 'center'\n      }, {\n        title: '角色状态',\n        dataIndex: 'status',\n        align: 'center',\n        scopedSlots: {\n          customRender: 'status'\n        }\n      }],\n      list: [],\n      pagination: {\n        total: 0,\n        defaultPageSize: 5,\n        showTotal: function showTotal(total) {\n          return \"\\u5171 \".concat(total, \" \\u6761\\u6570\\u636E\");\n        },\n        showSizeChanger: true,\n        pageSizeOptions: ['5', '10', '15', '20'],\n        onChange: function onChange(page, pageSize) {\n          _this.pagechage(page, pageSize);\n        },\n        onShowSizeChange: function onShowSizeChange(current, pageSize) {\n          _this.pageSizeChange(pageSize);\n        }\n      }\n    };\n  },\n  props: {\n    showVisible: Boolean\n  },\n  methods: {\n    //查看\n    ShowDialog: function ShowDialog(query) {\n      var _this2 = this;\n\n      this.disabled = true;\n      this.showVisible = true;\n      this.dialogType = 'show';\n      this.getList(query);\n      this.$nextTick(function () {\n        _this2.form.setFieldsValue(query);\n      });\n    },\n    //获取关联角色信息\n    getList: function getList(query) {\n      var _this3 = this;\n\n      this.loading = true;\n      getRoleByUserId({\n        userId: query.id\n      }).then(function (res) {\n        if (res.data.code == '0000') {\n          _this3.loading = false;\n          console.log(res);\n          _this3.list = res.data.extend.list;\n          _this3.pagination.total = res.data.extend.total;\n        } else {\n          _this3.loading = false;\n\n          _this3.$message.error(res.data.message);\n        }\n      });\n    },\n    //关闭\n    onClose: function onClose() {\n      this.showVisible = false;\n      this.form.resetFields();\n    },\n    //提交按钮\n    onSubmit: function onSubmit() {\n      if (this.dialogType == 'show') {\n        this.showVisible = false;\n      }\n\n      if (this.dialogType == 'create') {\n        this.create();\n      }\n\n      if (this.dialogType == 'update') {\n        this.update();\n      }\n    }\n  }\n};",{"version":3,"sources":["edit.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <a-drawer\r\n\t\tplacement=\"right\"\r\n\t\t:closable=\"true\"\r\n\t\t@close=\"onClose\"\r\n\t\t:visible=\"showVisible\"\r\n\t\twidth=\"1100px\">\r\n\t\t<span slot=\"title\">\r\n\t\t\t<a-icon type=\"form\"/>&nbsp; {{dialogTypeMap[dialogType]}}\r\n\r\n\t\t</span>\r\n\r\n    <a-tabs>\r\n    <a-tab-pane tab=\"用户信息\">\r\n\t\t<a-form :form=\"form\">\r\n\t\t  <a-row :gutter=\"24\">\r\n\t\t\t<a-col :span=\"24\">\r\n\t\t\t  <a-form-item label=\"登录名\" :label-col=\"{ span: 4 }\" :wrapper-col=\"{ span: 20 }\">\r\n\t\t\t\t\t  <a-input type=\"hidden\" placeholder=\"请输入登录名\" :disabled=\"disabled\" v-decorator=\"['id']\"/>\r\n\t\t\t\t\t<a-input placeholder=\"请输入登录名\" :disabled=\"disabled\" v-decorator=\"['login',rule.login]\"/>\r\n\t\t\t  </a-form-item>\r\n\t\t\t</a-col>\r\n\t\t\t<a-col :span=\"24\">\r\n\t\t\t  <a-form-item label=\"姓名\" :label-col=\"{ span: 4 }\" :wrapper-col=\"{ span: 20 }\">\r\n\t\t\t\t<a-input  placeholder=\"请输入姓名\"  :disabled=\"disabled\" v-decorator=\"['name',rule.name]\"  />\r\n\t\t\t  </a-form-item>\r\n\t\t\t</a-col>\r\n\r\n\t\t\t<a-col :span=\"24\">\r\n\t\t\t  <a-form-item label=\"状态\" :label-col=\"{ span: 4 }\" :wrapper-col=\"{ span: 20 }\">\r\n\t\t\t\t<a-radio-group   :disabled=\"disabled\" v-decorator=\"['status',rule.status]\" >\r\n\t\t\t\t <a-radio value=\"0\">禁用</a-radio>\r\n\t\t\t\t <a-radio value=\"1\">启用</a-radio>\r\n\t\t\t\t</a-radio-group>\r\n\t\t\t  </a-form-item>\r\n\t\t\t</a-col>\r\n\r\n\r\n\t\t  </a-row>\r\n\t\t</a-form>\r\n\r\n\t</a-tab-pane>\r\n\t</a-tabs>\r\n\r\n\t<a-tabs>\r\n\t\t<a-tab-pane tab=\" 角色信息 \">\r\n\t\t\t<a-table :columns=\"columns\"  :dataSource=\"list\" bordered :pagination=\"pagination\" :loading='loading' style=\"margin-bottom:50px;\">\r\n\r\n\t\t\t\t<span slot=\"status\" slot-scope=\"status\">\r\n\t\t\t\t     <a-badge :status=\"status=='1'?'success':'error'\"/>\r\n\t\t\t\t     {{status | statusFilter}}\r\n\r\n\t\t\t\t </span>\r\n\t\t\t</a-table>\r\n\t\t</a-tab-pane>\r\n\t</a-tabs>\r\n\r\n    <div class=\"modeButton\">\r\n      <a-button :style=\"{marginRight: '8px'}\"\r\n                @click=\"onClose\">\r\n        取消\r\n      </a-button>\r\n      <a-button @click=\"onSubmit\" type=\"primary\">{{SubmitTypeMap[dialogType]}}</a-button>\r\n    </div>\r\n  </a-drawer>\r\n\r\n</template>\r\n\r\n<script>\r\nimport {getRoleByUserId} from '@/api/system.js';\r\n\r\n  export default {\r\n\r\n\tfilters:{\r\n\t\tstatusFilter(status){\r\n\t\t\tconst statusMap={\r\n\t\t\t\t'1':'启用',\r\n\t\t\t\t'0':'禁用'\r\n\t\t\t}\r\n\t\t\treturn statusMap[status]\r\n\t\t},\r\n\r\n\r\n\t},\r\n\r\n    data() {\r\n      return {\r\n        iconType:'from',\r\n        form: this.$form.createForm(this),\r\n        dialogTypeMap: {\r\n          show: '用户详情',\r\n          create: '用户新增',\r\n          update: '用户修改'\r\n        },\r\n        hackRest:false,\r\n        SubmitTypeMap: {\r\n          show: '确认',\r\n          create: '提交',\r\n          update: '提交'\r\n        },\r\n        showVisible: false,\r\n        rule:{\r\n          login:{ rules: [{ required: true, message: '请输入用户名' }],initialValue:''},\r\n          name:{ rules: [{ required: true, message: '请输入姓名' }],initialValue:''},\r\n          status:{ rules: [{ required: true, message: '请选择状态' }],initialValue:'1'},\r\n        },\r\n\r\n\t\tcolumns: [\r\n\t\t  { title: '角色ID', dataIndex: 'id',align:'center' },\r\n\t\t  { title: '角色名称', dataIndex: 'name' ,align:'center'},\r\n\t\t  { title: '角色描述', dataIndex: 'desc',align:'center' },\r\n\t\t  { title: '角色状态', dataIndex: 'status',align:'center',scopedSlots: { customRender: 'status' } },\r\n\r\n\t\t],\r\n\r\n\t\tlist: [\r\n\t\t],\r\n\t\tpagination: {\r\n\t\t\t total:0,\r\n\t\t     defaultPageSize:5,\r\n\t\t     showTotal: total => `共 ${total} 条数据`,\r\n\t\t     showSizeChanger:true,\r\n\t\t     pageSizeOptions: ['5', '10', '15', '20'],\r\n\t\t     onChange:(page, pageSize)=>{\r\n\t\t       this.pagechage(page, pageSize);\r\n\t\t     },\r\n\t\t\t onShowSizeChange:(current,pageSize)=>{\r\n\t\t\t\t this.pageSizeChange(pageSize);\r\n\t\t\t }\r\n\t\t},\r\n      }\r\n    },\r\n    props: {\r\n      showVisible: Boolean\r\n    },\r\n\r\n    methods: {\r\n      //查看\r\n      ShowDialog(query) {\r\n        this.disabled = true\r\n        this.showVisible = true\r\n        this.dialogType = 'show'\r\n\r\n\t\tthis.getList(query)\r\n        this.$nextTick(() => {\r\n          this.form.setFieldsValue(query)\r\n        })\r\n      },\r\n\r\n\t  //获取关联角色信息\r\n\t  getList(query){\r\n\t  \tthis.loading=true\r\n\t  \t getRoleByUserId({userId:query.id}).then(res=>{\r\n\t  \t\tif(res.data.code=='0000'){\r\n\t  \t\t\tthis.loading=false\r\n\t  \t\t\tconsole.log(res)\r\n\t  \t\t\tthis.list = res.data.extend.list\r\n\t  \t\t\tthis.pagination.total = res.data.extend.total;\r\n\t  \t\t}else{\r\n\t  \t\t\tthis.loading=false\r\n\t  \t\t\tthis.$message.error(res.data.message)\r\n\t  \t\t}\r\n\t  \t })\r\n\t  },\r\n\r\n\r\n  \t  //关闭\r\n  \t  onClose(){\r\n  \t\t  this.showVisible = false;\r\n  \t\t  this.form.resetFields();\r\n  \t  },\r\n      //提交按钮\r\n        onSubmit() {\r\n       if(this.dialogType=='show'){\r\n        this.showVisible = false\r\n       }\r\n       if(this.dialogType=='create'){\r\n          this.create();\r\n       }\r\n       if(this.dialogType=='update'){\r\n          this.update();\r\n       }\r\n     },\r\n\r\n    }\r\n  }\r\n\r\n</script>\r\n"],"sourceRoot":"src/views/user"}]}