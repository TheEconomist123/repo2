{"remainingRequest":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\babel-loader\\lib\\index.js!D:\\mail\\oesbecc\\outMailScreen\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\mail\\oesbecc\\outMailScreen\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\mail\\oesbecc\\outMailScreen\\src\\views\\menu\\menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\mail\\oesbecc\\outMailScreen\\src\\views\\menu\\menu.vue","mtime":1637304821579},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640070690350},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\babel-loader\\lib\\index.js","mtime":1640070643981},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640070690350},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\vue-loader\\lib\\index.js","mtime":1640070694148}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport _defineProperty from \"D:\\\\mail\\\\oesbecc\\\\outMailScreen\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getMenusByPage } from '@/api/system.js';\nexport default {\n  data: function data() {\n    var _this = this;\n\n    return {\n      expand: false,\n      childrenDrawer: false,\n      columns: [{\n        title: '菜单ID',\n        dataIndex: 'id',\n        align: 'center'\n      }, {\n        title: '菜单名称',\n        dataIndex: 'name',\n        align: 'center'\n      }, {\n        title: '菜单路径',\n        dataIndex: 'path',\n        align: 'center'\n      }, {\n        title: '菜单图标',\n        dataIndex: 'icon',\n        align: 'center',\n        width: '90px',\n        scopedSlots: {\n          customRender: 'icon'\n        }\n      }, {\n        title: '状态',\n        dataIndex: 'status',\n        align: 'center',\n        scopedSlots: {\n          customRender: 'status'\n        }\n      }],\n      data: [],\n      enterData: [],\n      listQuery: {\n        targetName: '',\n        targetDesc: '',\n        targetType: '',\n        pageNum: 1,\n        pageSize: 5\n      },\n      pagination: {\n        total: 0,\n        defaultPageSize: 5,\n        showTotal: function showTotal(total) {\n          return \"\\u5171 \".concat(total, \" \\u6761\\u6570\\u636E\");\n        },\n        showSizeChanger: true,\n        pageSizeOptions: ['5', '10', '15', '20'],\n        onChange: function onChange(page, pageSize) {\n          _this.pagechage(page, pageSize);\n        },\n        onShowSizeChange: function onShowSizeChange(current, pageSize) {\n          _this.pageSizeChange(pageSize);\n        }\n      },\n      statusmap: _defineProperty({\n        '0': '停用'\n      }, \"0\", '启用')\n    };\n  },\n  created: function created() {\n    this.getList();\n  },\n  methods: {\n    showChildrenDrawer: function showChildrenDrawer() {\n      this.childrenDrawer = true;\n    },\n    onChildrenDrawerClose: function onChildrenDrawerClose() {\n      this.childrenDrawer = false;\n      this.$message.info('已取消操作');\n    },\n    pagechage: function pagechage(page, pageSize) {\n      this.listQuery.pageNum = page;\n      this.listQuery.pageSize = pageSize;\n      this.getList();\n    },\n    pageSizeChange: function pageSizeChange(pageSize) {\n      this.listQuery.pageNum = 1;\n      this.listQuery.pageSize = pageSize;\n      this.getList();\n    },\n    getList: function getList() {\n      var _this2 = this;\n\n      this.loading = true;\n      getMenusByPage(this.listQuery).then(function (res) {\n        if (res.data.code == '0000') {\n          _this2.loading = false; //console.log(res)\n\n          _this2.data = res.data.extend.list;\n          _this2.pagination.total = res.data.extend.total;\n        } else {\n          _this2.loading = false;\n\n          _this2.$message.error(res.data.message);\n        }\n      });\n    },\n    healthType: function healthType(status) {\n      if (status == '0') {\n        return 'success';\n      } else if (status == '1') {\n        return 'warning';\n      } else {\n        return 'error';\n      }\n    },\n    //提交\n    onSubmit: function onSubmit() {\n      if (this.enterData.length == 1) {\n        var query = {\n          parent: this.enterData[0].id,\n          parentName: this.enterData[0].name\n        };\n        this.$emit('showId', query);\n        this.childrenDrawer = false;\n      } else {\n        this.$message.error('请选择一条数据！');\n      }\n    },\n    //展开/收起\n    toggle: function toggle() {\n      this.expand = !this.expand;\n    },\n    handleReset: function handleReset() {\n      // this.form.resetFields()\n      this.listQuery = {};\n    }\n  },\n  computed: {\n    rowSelection: function rowSelection() {\n      var _this3 = this;\n\n      var selectedRowKeys = this.selectedRowKeys;\n      return {\n        onChange: function onChange(selectedRowKeys, selectedRows) {\n          // console.log(`selectedRowKeys: ${selectedRowKeys}`, 'selectedRows: ', selectedRows);\n          _this3.enterData = selectedRows; //console.log(this.enterData)\n        }\n      };\n    },\n    count: function count() {\n      return this.expand ? 11 : 3;\n    }\n  }\n};",{"version":3,"sources":["menu.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<a-drawer\r\n\t        width=\"700px\"\r\n\t        :closable=\"true\"\r\n\t        @close=\"onChildrenDrawerClose\"\r\n\t        :visible=\"childrenDrawer\"\r\n\t      >\r\n\t\t\t\t<span slot=\"title\">\r\n\t\t\t\t\t<a-icon type=\"form\"/>&nbsp; 父级菜单\r\n\r\n\t\t\t\t</span>\r\n\t <a-form class=\"commomForm\"\r\n\t         :form=\"form\"\r\n\t         @submit=\"handleSearch\">\r\n\t   <a-row :gutter=\"24\">\r\n\t     <a-col :span=\"8\">\r\n\t       <a-form-item label=\"菜单名称\" :label-col=\"{ span: 8 }\"\r\n\t   :wrapper-col=\"{ span: 12 }\">\r\n\t         <a-input v-model=\"listQuery.name\" placeholder=\"姓名\" />\r\n\t       </a-form-item>\r\n\t     </a-col>\r\n\t     <a-col :span=\"8\">\r\n\t       <a-form-item label=\"状态\" :label-col=\"{ span: 8 }\"\r\n\t   :wrapper-col=\"{ span: 16  }\">\r\n\t     <a-select defaultValue=\"0\" v-model=\"listQuery.status\" style=\"width: 100%\" @change=\"handleChange\">\r\n\t       <a-select-option value=\"0\">停用</a-select-option>\r\n\t       <a-select-option value=\"1\">启用</a-select-option>\r\n\t     </a-select>\r\n\t       </a-form-item>\r\n\t     </a-col>\r\n\t     <a-col :span=\"8\" :style=\"{ textAlign: 'right',paddingRight:'20px' }\">\r\n\t       <a-form-item>\r\n\t       <a-button type=\"primary\" @click=\"getList\" icon=\"search\">\r\n\t         搜&nbsp;&nbsp;索\r\n\t       </a-button>\r\n\t      <!-- <a-button :style=\"{ marginLeft: '8px' }\" @click=\"handleReset\" icon=\"redo\">\r\n\t         重&nbsp;&nbsp;置\r\n\t       </a-button> -->\r\n\t         </a-form-item>\r\n\t     </a-col>\r\n\t   </a-row>\r\n\t </a-form>\r\n\r\n\r\n\t  <a-table :rowSelection=\"rowSelection\" :columns=\"columns\" :dataSource=\"data\" bordered :pagination=\"pagination\">\r\n\t\t<span slot=\"icon\" slot-scope=\"icon\">\r\n\t\t    <a-icon  :type=\"icon\"/>\r\n\t\t</span>\r\n\t\t<span slot=\"status\" slot-scope=\"status\">\r\n\t\t     <a-badge :status=\"status=='01'?'success':'error'\" />\r\n\t\t    {{statusmap[status]}}\r\n\t\t</span>\r\n\r\n\t  </a-table>\r\n\r\n\t  <div :style=\"{\r\n\t               position: 'absolute',\r\n\t               left: 0,\r\n\t               bottom: 0,\r\n\t               width: '100%',\r\n\t               borderTop: '1px solid #e9e9e9',\r\n\t               padding: '10px 16px',\r\n\t               background: '#fff',\r\n\t               textAlign: 'right',\r\n\t             }\">\r\n\t    <a-button :style=\"{marginRight: '8px'}\" @click=\"onChildrenDrawerClose\"> 取消 </a-button>\r\n\t    <a-button @click=\"onSubmit\" type=\"primary\">确认</a-button>\r\n\t  </div>\r\n\t</a-drawer>\n</template>\n\n<script>\r\nimport {getMenusByPage} from '@/api/system.js';\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\r\n\t\t\t\texpand: false,\r\n\t\t\t\tchildrenDrawer:false,\r\n\t\t\t\tcolumns: [\r\n\t\t\t\t { title: '菜单ID', dataIndex: 'id',align:'center' },\r\n\t\t\t\t { title: '菜单名称', dataIndex: 'name',align:'center' },\r\n\t\t\t\t { title: '菜单路径', dataIndex: 'path' ,align:'center'},\r\n\t\t\t\t { title: '菜单图标', dataIndex: 'icon' ,align:'center',width:'90px',scopedSlots: { customRender: 'icon' }},\r\n\t\t\t\t { title: '状态', dataIndex: 'status',align:'center',scopedSlots: { customRender: 'status' } },\r\n\t\t\t\t],\r\n\t\t\t\tdata:[],\r\n\t\t\t\tenterData:[],\r\n\t\t\t\tlistQuery:{\r\n\t\t\t\t\ttargetName:'',\r\n\t\t\t\t\ttargetDesc:'',\r\n\t\t\t\t\ttargetType:'',\r\n\t\t\t\t\tpageNum:1,\r\n\t\t\t\t\tpageSize:5\r\n\t\t\t\t},\r\n\t\t\t\tpagination: {\r\n\t\t\t\t\t total:0,\r\n\t\t\t\t     defaultPageSize:5,\r\n\t\t\t\t     showTotal: total => `共 ${total} 条数据`,\r\n\t\t\t\t     showSizeChanger:true,\r\n\t\t\t\t     pageSizeOptions: ['5', '10', '15', '20'],\r\n\t\t\t\t     onChange:(page, pageSize)=>{\r\n\t\t\t\t       this.pagechage(page, pageSize);\r\n\t\t\t\t     },\r\n\t\t\t\t\t onShowSizeChange:(current,pageSize)=>{\r\n\t\t\t\t\t\t this.pageSizeChange(pageSize);\r\n\t\t\t\t\t }\r\n\t\t\t\t},\r\n\t\t\t\tstatusmap:{\r\n\t\t\t\t  '0':'停用',\r\n\t\t\t\t  '0':'启用'\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.getList()\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tshowChildrenDrawer() {\r\n\t\t\t\tthis.childrenDrawer = true;\r\n\r\n\t\t\t},\r\n\t\t\tonChildrenDrawerClose() {\r\n\t\t\t\tthis.childrenDrawer = false;\r\n\t\t\t\tthis.$message.info('已取消操作')\r\n\t\t\t},\r\n\r\n\t\t\tpagechage(page, pageSize){\r\n\t\t\t\tthis.listQuery.pageNum = page;\r\n\t\t\t\tthis.listQuery.pageSize = pageSize;\r\n\t\t\t\tthis.getList();\r\n\t\t\t},\r\n\t\t\tpageSizeChange(pageSize){\r\n\t\t\t    this.listQuery.pageNum = 1;\r\n\t\t\t    this.listQuery.pageSize = pageSize;\r\n\t\t\t    this.getList();\r\n\t\t\t},\r\n\r\n\t\t\tgetList(){\r\n\t\t\t\tthis.loading=true\r\n\t\t\t\tgetMenusByPage(this.listQuery).then(res=>{\r\n\t\t\t\t\tif(res.data.code=='0000'){\r\n\t\t\t\t\t\tthis.loading=false\r\n\t\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\tthis.data = res.data.extend.list\r\n\t\t\t\t\t\tthis.pagination.total = res.data.extend.total;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.loading=false\r\n\t\t\t\t\t\tthis.$message.error(res.data.message)\r\n\t\t\t\t\t}\r\n\t\t\t\t })\r\n\t\t\t},\r\n\r\n\t\t\thealthType(status){\r\n\t\t\t  if(status=='0'){\r\n\t\t\t\t  return 'success'\r\n\t\t\t  }else if(status=='1'){\r\n\t\t\t\t  return 'warning'\r\n\t\t\t  }else{\r\n\t\t\t\t  return 'error'\r\n\t\t\t  }\r\n\t\t\t},\r\n\r\n\r\n\t\t\t//提交\r\n\t\t\tonSubmit() {\r\n\t\t\t\tif(this.enterData.length==1){\r\n\t\t\t\t\tvar query={parent:this.enterData[0].id,parentName:this.enterData[0].name}\r\n\t\t\t\t\tthis.$emit('showId',query)\r\n\r\n\t\t\t\t\tthis.childrenDrawer = false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$message.error('请选择一条数据！')\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\t//展开/收起\r\n\t\t\ttoggle() {\r\n\t\t\t\tthis.expand = !this.expand\r\n\t\t\t},\r\n\r\n\t\t\thandleReset() {\r\n\t\t\t\t// this.form.resetFields()\r\n\t\t\t\tthis.listQuery={}\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t  rowSelection() {\r\n\t\t\tconst { selectedRowKeys } = this;\r\n\t\t\treturn {\r\n\t\t\t  onChange: (selectedRowKeys, selectedRows) => {\r\n\t\t\t\t// console.log(`selectedRowKeys: ${selectedRowKeys}`, 'selectedRows: ', selectedRows);\r\n\t\t\t\tthis.enterData=selectedRows\r\n\t\t\t\t//console.log(this.enterData)\r\n\t\t\t  },\r\n\r\n\t\t\t};\r\n\t\t  },\r\n\r\n\t\t  count() {\r\n\t\t    return this.expand ? 11 : 3\r\n\t\t  }\r\n\r\n\t\t},\r\n\t}\n</script>\n"],"sourceRoot":"src/views/menu"}]}