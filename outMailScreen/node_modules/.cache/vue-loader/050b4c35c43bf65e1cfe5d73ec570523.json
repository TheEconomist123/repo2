{"remainingRequest":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\mail\\oesbecc\\outMailScreen\\src\\views\\role\\create.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\mail\\oesbecc\\outMailScreen\\src\\views\\role\\create.vue","mtime":1637304821603},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\css-loader\\index.js","mtime":1640070691346},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1640070694148},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\postcss-loader\\src\\index.js","mtime":1640070693882},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640070690350},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\vue-loader\\lib\\index.js","mtime":1640070694148}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.stepContent{\n\tmargin-top:30px;\n}\n",{"version":3,"sources":["create.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkdA;AACA;AACA","file":"create.vue","sourceRoot":"src/views/role","sourcesContent":["<template>\r\n\t<div>\r\n\t<a-drawer\r\n\t          placement=\"right\"\r\n\t          :closable=\"showCanel\"\r\n\t          :visible=\"showVisible\"\r\n\t\t\t   @close=\"onClose\"\r\n\t          width=\"600px\">\r\n\t\t\t\t<span slot=\"title\">\r\n\t\t\t\t\t<a-icon type=\"form\"/>&nbsp; {{title}}\r\n\t\t\t\t</span>\r\n\r\n\t\t\t\t<a-steps size=\"small\" :current=\"current\" :status = \"stepstatus\" >\r\n\t\t\t\t\t<a-step title=\"第一步\">\r\n\t\t\t\t\t\t<span slot=\"description\">{{title}}</span>\r\n\t\t\t\t\t</a-step>\r\n\t\t\t\t\t<a-step title=\"第二步\">\r\n\t\t\t\t\t\t<span slot=\"description\">菜单分配</span>\r\n\t\t\t\t\t</a-step>\r\n\t\t\t\t\t<a-step title=\"结束\">\r\n\t\t\t\t\t</a-step>\r\n\t\t\t\t</a-steps>\r\n\r\n\r\n\r\n\t\t\t<div class=\"stepContent\" v-show=\"current==0\">\r\n\t\t\t\t<a-form class=\"ant-advanced-search-form\" style=\"border:none;\" :form=\"form\">\r\n\t\t\t\t  <a-row :gutter=\"24\">\r\n\r\n\t\t\t\t\t<a-col :span=\"24\">\r\n\t\t\t\t\t  <a-form-item label=\"角色名称\" :label-col=\"{ span: 4 }\" :wrapper-col=\"{ span: 20 }\">\r\n\t\t\t\t\t\t   <a-input type=\"hidden\"   v-decorator=\"['id']\"/>\r\n\t\t\t\t\t    <a-input  placeholder=\"请输入角色名称\"  :disabled=\"disabled\" v-decorator=\"['name',rule.name]\"  />\r\n\t\t\t\t\t  </a-form-item>\r\n\t\t\t\t\t</a-col>\r\n\t\t\t\t\t<a-col :span=\"24\">\r\n\t\t\t\t\t  <a-form-item label=\"角色描述\" :label-col=\"{ span: 4 }\" :wrapper-col=\"{ span: 20 }\">\r\n\t\t\t\t\t    <a-input  placeholder=\"请输入角色描述\"  :disabled=\"disabled\" v-decorator=\"['desc',rule.desc]\"  />\r\n\t\t\t\t\t  </a-form-item>\r\n\t\t\t\t\t</a-col>\r\n\r\n\t\t\t\t\t<a-col :span=\"24\">\r\n\t\t\t\t\t  <a-form-item label=\"状态\" :label-col=\"{ span: 4 }\" :wrapper-col=\"{ span: 20 }\">\r\n\t\t\t\t\t    <a-radio-group   :disabled=\"disabled\" v-decorator=\"['status',rule.status]\" >\r\n\t\t\t\t\t      <a-radio value=\"0\">禁用</a-radio>\r\n\t\t\t\t\t      <a-radio value=\"1\">启用</a-radio>\r\n\t\t\t\t\t    </a-radio-group>\r\n\t\t\t\t\t  </a-form-item>\r\n\t\t\t\t\t</a-col>\r\n\r\n\t\t\t\t  </a-row>\r\n\r\n\t\t\t\t</a-form>\r\n\t\t\t</div>\r\n\r\n\t\t\t\t<!--第二步-->\r\n\t\t\t\t<div class=\"stepContent\" v-show=\"current==1\">\r\n\r\n\t\t\t\t\t<a-tree\r\n\t\t\t\t\t  checkable\r\n\t\t\t\t\t  :treeData=\"treeData\"\r\n\t\t\t\t\t  :checkedKeys=\"innerCheckedKeys\"\r\n\t\t\t\t\t  @select=\"this.onSelect\"\r\n\t\t\t\t\t  @check=\"this.onCheck\"\r\n\t\t\t\t\t  :replaceFields=\"replaceFields\">\r\n\t\t\t\t\t    <template slot=\"custom\" slot-scope=\"item\">\r\n\t\t\t\t\t      <a-icon :type=\"item.icon\"/>&nbsp;\r\n\t\t\t\t\t      <span>{{ item.name }}</span>\r\n\t\t\t\t\t  </template>\r\n\t\t\t\t\t</a-tree>\r\n\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<!-- 第三步 -->\r\n\t\t\t\t<div class=\"stepContent\" v-show=\"current==2\" style=\"text-align:center;marginTop:30px\">\r\n\t\t\t\t\t<a-icon type=\"check-circle\" style=\"color:green;font-size:50px;marginBottom:10px\"></a-icon>\r\n\t\t\t\t\t<p style=\"font-size:25px;\">{{this.dialogType=='create'?'新增成功':'修改成功'}}</p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div :style=\"{\r\n\t\t\t\t               position: 'absolute',\r\n\t\t\t\t               left: 0,\r\n\t\t\t\t               bottom: 0,\r\n\t\t\t\t               width: '100%',\r\n\t\t\t\t               borderTop: '1px solid #e9e9e9',\r\n\t\t\t\t               padding: '10px 16px',\r\n\t\t\t\t               background: '#fff',\r\n\t\t\t\t               textAlign: 'right',\r\n\t\t\t\t             }\">\r\n\t\t\t\t\t<a-button type=\"primary\" @click=\"submitCreate\" v-show=\"current!=2\" :style=\"{marginRight:'5px'}\">\r\n\t\t\t\t\t\t\t   提交\r\n\t\t\t\t\t</a-button>\r\n\t\t\t\t\t<a-button type=\"success\" v-show=\"showNext\" @click=\"goNext\" :style=\"{marginRight:'5px'}\">\r\n\t\t\t\t\t\t\t   跳过\r\n\t\t\t\t\t</a-button>\r\n\t\t\t\t    <a-button :style=\"{marginRight: '8px'}\" @click=\"onClose\" v-if=\"showCanel\"> {{canelTitle}} </a-button>\r\n\t\t\t\t  </div>\r\n\t\t\t\t</a-drawer>\r\n\t\t\t\t<bounced ref='bounced' @showId=\"showId\"></bounced>\r\n\t\t\t</div>\n</template>\n\n<script>\r\n\timport {addRole,getUsersByPage ,getMenusAll ,addRoleIdAndMenuIds, getMenuIdsByRoleId,updateUser} from '@/api/system.js';\r\n\r\n\t// import bounced from './bounced';\r\n\t export default {\r\n\t\tfilters:{\r\n\t\t\tstatusFilter(status){\r\n\t\t\t\tconst statusMap={\r\n\t\t\t\t\t'0':'启用',\r\n\t\t\t\t\t'1':'禁用'\r\n\t\t\t\t}\r\n\t\t\t\treturn statusMap[status]\r\n\t\t\t},\r\n\r\n\r\n\r\n\t\t},\r\n\r\n\t\t components:{\r\n\t\t\t// bounced\r\n\t\t },\r\n\t\t data(){\r\n\t\t\t return {\r\n\t\t\t\tcheckedKeysResult:[],\r\n\t\t\t\tquery: {\r\n\t\t\t\t  login: '',\r\n\t\t\t\t  name: '',\r\n\t\t\t\t  status: undefined,\r\n\t\t\t\t  page:1,\r\n\t\t\t\t  pageSize:5\r\n\t\t\t\t},\r\n\r\n\t\t\t\tlistQuery: {\r\n\t\t\t\t  name: '',\r\n\t\t\t\t  status: '',\r\n\t\t\t\t  page:1,\r\n\t\t\t\t  pageSize:5\r\n\t\t\t\t},\r\n\r\n\t\t\t\tstatusmap:{\r\n\t\t\t\t  '0':'停用',\r\n\t\t\t\t  '1':'启用'\r\n\t\t\t\t},\r\n\t\t\t\ttypemap:{\r\n\t\t\t\t  '0':'一级菜单',\r\n\t\t\t\t  '1':'二级菜单'\r\n\t\t\t\t},\r\n\r\n\t\t\t\tinnerCheckedKeys:'',\r\n\r\n\t\t\t\ttitle:'角色管理新增',\r\n\t\t\t\texpand: false,\r\n\t\t\t\t dialogType:'',\r\n\t\t\t\t showNext:false,\r\n\t\t\t\t canelTitle:'取消',\r\n\t\t\t\t stepstatus:'process',\r\n\t\t\t\t showStatus:true,\r\n\t\t\t\t loading:false,\r\n\t\t\t\t showVisible: false,\r\n\t\t\t\t selectedRowKeys:[],\r\n\t\t\t\t id:\"\",\r\n\t\t\t\t current:0,\r\n\t\t\t\t form: this.$form.createForm(this),\r\n\t\t\t\t rule:{\r\n\t\t\t\t  name:{ rules: [{ required: true, message: '请输入角色姓名' }],initialValue:''},\r\n\t\t\t\t  desc:{ rules: [{ required: true, message: '请输入角色描述' }],initialValue:''},\r\n\t\t\t\t  status:{ rules: [{ required: true, message: '请输入角色状态' }],initialValue:''},\r\n\t\t\t\t },\r\n\r\n\t\t\t\ttreeData:[\r\n\t\t\t\t  ],\r\n\t\t\t\t  replaceFields:{\r\n\t\t\t\t    children:'node',\r\n\t\t\t\t    title:'name',\r\n\t\t\t\t    key:'id'\r\n\t\t\t\t  },\r\n\t\t\t\tpagination: {\r\n\t\t\t\t\t total:0,\r\n\t\t\t\t\t defaultPageSize:5,\r\n\t\t\t\t\t showTotal: total => `共 ${total} 条数据`,\r\n\t\t\t\t\t showSizeChanger:true,\r\n\t\t\t\t\t pageSizeOptions: ['5', '10', '15', '20'],\r\n\t\t\t\t\t onChange:(page, pageSize)=>{\r\n\t\t\t\t\t   this.pagechage(page, pageSize);\r\n\t\t\t\t\t },\r\n\t\t\t\t\t onShowSizeChange:(current,pageSize)=>{\r\n\t\t\t\t\t\t this.pageSizeChange(pageSize);\r\n\t\t\t\t\t }\r\n\t\t\t\t}\r\n\t\t\t }\r\n\t\t },\r\n\t\t computed: {\r\n\t\t   rowSelection() {\r\n\t\t \tconst { selectedRowKeys } = this;\r\n\t\t \treturn {\r\n\t\t \t  onChange: (selectedRowKeys, selectedRows) => {\r\n\t\t \t\t// console.log(`selectedRowKeys: ${selectedRowKeys}`, 'selectedRows: ', selectedRows);\r\n\t\t \t\tthis.enterData=selectedRows\r\n\t\t \t\t//console.log(this.enterData)\r\n\t\t \t  },\r\n\r\n\t\t \t};\r\n\t\t   },\r\n\r\n\t\t },\r\n\r\n\t\t methods:{\r\n\t\t\t //显示绑定关联ID\r\n\t\t\t showId(query){\r\n\t\t\t\tthis.form.setFieldsValue(query)\r\n\t\t\t \t//console.log(query)\r\n\t\t\t },\r\n\r\n\t\t\t //新增\r\n\t\t\t CreateDialog() {\r\n\t\t\t\tthis.title='用户管理新增'\r\n\t\t\t\tthis.showNext = false\r\n\t\t\t\tthis.showStatus=true\r\n\t\t\t\tthis.iconType =\"form\"\r\n\t\t\t\tthis.showCanel = true\r\n\t\t\t\tthis.disabled=false\r\n\t\t\t\tthis.showVisible = true\r\n\t\t\t\tthis.current = 0\r\n\t\t\t\tthis.dialogType='create'\r\n\t\t\t\tthis.stepstatus =\"process\"\r\n\t\t\t\tthis.canelTitle=\"取消\"\r\n\t\t\t\tthis.showCanel = true\r\n\t\t\t\tthis.selectedRowKeys = []\r\n\t\t\t\tthis.form.resetFields();//清除缓存数据\r\n\t\t\t\tthis.query={\r\n\t\t\t\t  login: '',\r\n\t\t\t\t  name: '',\r\n\t\t\t\t  status: '',\r\n\t\t\t\t  page:1,\r\n\t\t\t\t  pageSize:5\r\n\t\t\t\t}\r\n\t\t\t },\r\n\r\n\t\t\t // 修改\r\n\t\t\t updateDialog(query){\r\n\t\t\t\tthis.title='用户管理修改'\r\n\t\t\t\tthis.showStatus=true\r\n\t\t\t\tthis.iconType =\"form\"\r\n\t\t\t\tthis.showCanel = true\r\n\t\t\t\tthis.disabled=false\r\n\t\t\t\tthis.showVisible = true\r\n\t\t\t\tthis.current = 0\r\n\t\t\t\tthis.dialogType='update'\r\n\t\t\t\tthis.canelTitle=\"取消\"\r\n\t\t\t\tthis.stepstatus =\"process\"\r\n\t\t\t\tthis.showCanel = true\r\n\t\t\t\tthis.selectedRowKeys = []\r\n\t\t\t\tthis.id=query.id;\r\n\t\t\t\tthis.query={\r\n\t\t\t\t  login: '',\r\n\t\t\t\t  name: '',\r\n\t\t\t\t  status: '',\r\n\t\t\t\t  page:1,\r\n\t\t\t\t  pageSize:5\r\n\t\t\t\t}\r\n\t\t\t\tthis.form.resetFields();//清除缓存数据\r\n\t\t\t\t this.showNext = true\r\n\t\t\t\tthis.$nextTick(()=>{\r\n\t\t\t\t    this.form.setFieldsValue(query)\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\t },\r\n\r\n\t\t\t getMenuIdsByRoleId(){\r\n\t\t\t\t  let _this = this\r\n\t\t\t\t getMenuIdsByRoleId({roleId:this.id}).then(res=>{\r\n\t\t\t\t \tif(res.data.code=='0000'){\r\n\t\t\t\t \t\tthis.canelTitle=\"关闭\"\r\n\t\t\t\t \t\tthis.showCanel = true\r\n\t\t\t\t \t\tthis.showNext = true\r\n\t\t\t\t \t\tthis.current=1\r\n\t\t\t\t\t\tthis.innerCheckedKeys = res.data.extend;\r\n\t\t\t\t \t\t}else{\r\n\t\t\t\t\t\tthis.current=1;\r\n\t\t\t\t\t\t_this.stepstatus = 'error';\r\n\t\t\t\t \t\t }\r\n\t\t\t\t \t\t}).catch(function(error){\r\n\t\t\t\t\t\t\tthis.current=1;\r\n\t\t\t\t \t\t _this.stepstatus = 'error';\r\n\t\t\t\t \t\t})\r\n\t\t\t },\r\n\t\t\t submitCreate(){\r\n\t\t\t\t if(this.current ==0){\r\n\t\t\t\t\t if(this.dialogType==\"create\"){\r\n\t\t\t\t\t\t this.create();\r\n\t\t\t\t\t }else if(this.dialogType==\"update\"){\r\n\t\t\t\t\t\t this.update();\r\n\t\t\t\t\t }\r\n\r\n\t\t\t\t }else if(this.current == 1){//添加关联表信息\r\n\t\t\t\t\t this.addRoleIdAndMenuIds();\r\n\t\t\t\t }else{\r\n\t\t\t\t\t this.current=2\r\n\t\t\t\t }\r\n\t\t\t },\r\n\t\t\t // 直接进入第三步\r\n\t\t\t goNext(){\r\n\t\t\t\t if(this.current==0){\r\n\r\n\t\t\t\t\t  this.getList();\r\n\r\n\t\t\t\t }else{\r\n\t\t\t\t\t this.canelTitle=\"关闭\"\r\n\t\t\t\t\t this.showCanel = true\r\n\t\t\t\t\t this.showNext = false\r\n\t\t\t\t\t  this.current=2\r\n\t\t\t\t }\r\n\r\n\t\t\t },\r\n\r\n\r\n\t\t\t addRoleIdAndMenuIds(){\r\n\t\t\t\t let _this = this\r\n\t\t\t\t addRoleIdAndMenuIds({roleId:this.id,menuIds:this.checkedKeysResult.join(\",\")}).then(res=>{\r\n\t\t\t\t\t if(res.data.code=='0000'){\r\n\t\t\t\t\t\t this.canelTitle=\"关闭\"\r\n\t\t\t\t\t\t this.showCanel = true\r\n\t\t\t\t\t\t this.showNext = false\r\n\t\t\t\t\t\t this.current=2\r\n\t\t\t\t\t }else{\r\n\t\t\t\t\t\t this.$message.error(res.data.message)\r\n\t\t\t\t\t\t _this.stepstatus = 'error';\r\n\t\t\t\t\t }\r\n\t\t\t\t }).catch(function(error){\r\n\t\t\t\t\t\t _this.stepstatus = 'error';\r\n\t\t\t\t\t});\r\n\t\t\t },\r\n\r\n\t\t\t getList(){\r\n\r\n\t\t\t \t getMenusAll(this.query).then(res=>{\r\n\t\t\t \t\tif(res.data.code=='0000'){\r\n\t\t\t\t\t\tthis.showNext = true\r\n\r\n\t\t\t\t\t\tthis.showCanel = false\r\n\t\t\t\t\t\tthis.current=1;\r\n\t\t\t \t\t\tconsole.log(res)\r\n\r\n\t\t\t \t\t\tlet list = res.data.extend;\r\n\t\t\t\t\t\tfor(var i=0;i<list.length;i++){\r\n\t\t\t\t\t\t\tlist[i].scopedSlots= { title: 'custom' }\r\n\t\t\t\t\t\t\tfor(var j=0;j<list[i].node.length;j++){\r\n\t\t\t\t\t\t\t\tlist[i].node[j].scopedSlots= { title: 'custom' }\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.treeData=list\r\n\r\n\t\t\t\t\t\tif(this.dialogType==\"update\"){\r\n\t\t\t\t\t\t\tthis.getMenuIdsByRoleId()\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t \t\t}else{\r\n\t\t\t\t\t\tthis.current=1;\r\n\t\t\t\t\t\t_this.stepstatus = 'error';\r\n\r\n\t\t\t \t\t\tthis.$message.error(res.data.message)\r\n\t\t\t \t\t}\r\n\t\t\t \t }).catch(function(error){\r\n\t\t\t\t\t\t\t  this.current=1;\r\n\t\t\t\t\t\t\t  _this.stepstatus = 'error';\r\n\t\t\t\t\t\t  })\r\n\t\t\t },\r\n\t\t\t //新增\r\n\t\t\t create(){\r\n\t\t\t\t let _this= this;\r\n\t\t\t \t\t this.form.validateFields((err, values) => {\r\n\t\t\t \t\t  if(!err){\r\n\t\t\t \t\t\t  addRole(values).then(res=>{\r\n\t\t\t \t\t\t\tif(res.data.code=='0000'){\r\n\t\t\t\t\t\t\t\tthis.id = res.data.extend;\r\n\t\t\t\t\t\t\t\tthis.$emit('fresh')\r\n\t\t\t\t\t\t\t\tthis.getList();\r\n\r\n\t\t\t \t\t\t\t\t//this.$message.success(res.data.message)\r\n\r\n\r\n\t\t\t \t\t\t\t}else{\r\n\t\t\t \t\t\t\t\tthis.$message.error(res.data.message)\r\n\t\t\t\t\t\t\t\t_this.stepstatus = 'error';\r\n\t\t\t \t\t\t\t}\r\n\t\t\t \t\t\t  }).catch(function(error){\r\n\t\t\t\t\t\t\t  _this.stepstatus = 'error';\r\n\t\t\t\t\t\t  })\r\n\t\t\t \t\t\t  //this.showVisible = false\r\n\t\t\t \t\t\t}\r\n\t\t\t \t\t  });\r\n\t\t\t },\r\n\t\t\t //修改\r\n\t\t\t update(){\r\n\t\t\t \t\t  this.form.validateFields((err, values) => {\r\n\t\t\t \t\t   if(!err){\r\n\t\t\t \t\t\t  updateUser(values).then(res=>{\r\n\t\t\t \t\t\t\t  //console.log(res)\r\n\t\t\t \t\t\t\tif(res.data.code=='0000'){\r\n\t\t\t\t\t\t\t\tthis.getList();\r\n\t\t\t \t\t\t\t\tthis.$message.success(res.data.message)\r\n\t\t\t \t\t\t\t\tthis.$emit('fresh')\r\n\t\t\t \t\t\t\t}else{\r\n\t\t\t \t\t\t\t\tthis.$message.error(res.data.message)\r\n\t\t\t \t\t\t\t}\r\n\t\t\t \t\t\t  })\r\n\r\n\t\t\t \t\t\t}\r\n\t\t\t \t\t   });\r\n\t\t\t },\r\n\t\t\t onSelectChange(selectedRowKeys) {\r\n\t\t\t\t console.info(selectedRowKeys)\r\n\r\n\t\t\t   this.selectedRowKeys = selectedRowKeys;\r\n\t\t\t },\r\n\t\t\t //健康状态\r\n\t\t\t healthType(status){\r\n\t\t\t\t  if(status=='0'){\r\n\t\t\t\t\treturn 'success'\r\n\t\t\t\t  }else if(status=='1'){\r\n\t\t\t\t\treturn 'warning'\r\n\t\t\t\t  }else if(status=='2'){\r\n\t\t\t\t\treturn 'error'\r\n\t\t\t\t  }\r\n\t\t\t\t  else{\r\n\t\t\t\t\treturn 'default'\r\n\t\t\t\t  }\r\n\t\t\t },\r\n\t\t\t toggle() {\r\n\t\t\t \tthis.expand = !this.expand\r\n\t\t\t },\r\n\r\n\t\t\t //关闭\r\n\t\t\t onClose(){\r\n\t\t\t\t  this.showVisible = false;\r\n\t\t\t\t  this.form.resetFields();\r\n\t\t\t\t  this.$message.info('已取消操作！')\r\n\t\t\t },\r\n\r\n\t\t\t //选择归属ecc展示系统\r\n\t\t\t showBounced(){\r\n\t\t\t \tthis.$refs.bounced.showChildrenDrawer()\r\n\t\t\t \t// console.log(this.$refs.bounced)\r\n\t\t\t },\r\n\r\n\t\t\t onSelect(selectedKeys, info) {\r\n\t\t\t   console.log('selected', selectedKeys, info);\r\n\t\t\t },\r\n\t\t\t onCheck(checkedKeys, info) {\r\n\t\t\t     this.checkedKeysResult = [...checkedKeys, ...info.halfCheckedKeys];\r\n\t\t\t     this.innerCheckedKeys = checkedKeys;\r\n\t\t\t   console.log('onCheck', checkedKeys, info);\r\n\t\t\t },\r\n\r\n\t\t },\r\n\r\n\t }\r\n\n</script>\n\n<style>\r\n\t.stepContent{\r\n\t\tmargin-top:30px;\r\n\t}\n</style>\n"]}]}