{"remainingRequest":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\mail\\oesbecc\\outMailScreen\\src\\views\\staffInfo\\cityInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\mail\\oesbecc\\outMailScreen\\src\\views\\staffInfo\\cityInfo.vue","mtime":1639990357988},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640070690350},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1640070694039},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\babel-loader\\lib\\index.js","mtime":1640070643981},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640070690350},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\vue-loader\\lib\\index.js","mtime":1640070694148}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\tgetCityInfosByPage\n} from '@/api/staffInfo.js';\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\ttitle: '农商行新增',\n\t\t\texpand: false,\n\t\t\tform: this.$form.createForm(this),\n\t\t\tcolumns: [{\n\t\t\t\t\ttitle: '农商行编号',\n\t\t\t\t\tdataIndex: 'cityNo',\n\t\t\t\t\talign: 'center'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: '农商行名称',\n\t\t\t\t\tdataIndex: 'cityName',\n\t\t\t\t\talign: 'center'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: '状态',\n\t\t\t\t\tdataIndex: 'status',\n\t\t\t\t\talign: 'center',\n\t\t\t\t\tscopedSlots: {\n\t\t\t\t\t\tcustomRender: 'status'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t\tlist: [],\n\t\t\tpagination: {\n\t\t\t\ttotal: 0,\n\t\t\t\tdefaultPageSize: 5,\n\t\t\t\tshowTotal: total => `共 ${total} 条数据`,\n\t\t\t\tshowSizeChanger: true,\n\t\t\t\tpageSizeOptions: ['5', '10', '15', '20'],\n\t\t\t\tonChange: (page, pageSize) => {\n\t\t\t\t\tthis.pagechage(page, pageSize);\n\t\t\t\t},\n\t\t\t\tonShowSizeChange: (current, pageSize) => {\n\t\t\t\t\tthis.pageSizeChange(pageSize);\n\t\t\t\t}\n\t\t\t},\n\t\t\tlistQuery: {\n\t\t\t\tpayload: {\n\t\t\t\t\tid: '',\n\t\t\t\t\tname: '',\n\t\t\t\t\tstatus: '',\n\t\t\t\t},\n\t\t\t\tpage: 1,\n\t\t\t\tpageSize: 5\n\t\t\t},\n\t\t\tstatusmap: {\n\t\t\t\t'0': '停用',\n\t\t\t\t'1': '启用'\n\t\t\t},\n\t\t\tchildrenDrawer: false,\n\t\t\trecord: {}\n\t\t}\n\t},\n\tcomputed: {\n\t\tcount() {\n\t\t\treturn this.expand ? 3 : 2\n\t\t},\n\t\trowSelection() {\n\t\t\t\t\tconst { selectedRowKeys } = this;\n\t\t\t\t\treturn {\n\t\t\t\t\t  onChange: (selectedRowKeys, selectedRows) => {\n\t\t\t\t\t\t// console.log(`selectedRowKeys: ${selectedRowKeys}`, 'selectedRows: ', selectedRows);\n\t\t\t\t\t\tthis.enterData=selectedRows\n\t\t\t\t\t\t//console.log(this.enterData)\n\t\t\t\t\t  },\n\t\t\n\t\t\t\t\t};\n\t\t},\n\t},\n\tcreated() {\n\t\tthis.getList()\n\t},\n\tmethods: {\n\t\tShowDialog(){\n\t\t\tthis.childrenDrawer = true\n\t\t},\n\t\t\n\t\tgetList() {\n\t\t\tgetCityInfosByPage(this.listQuery).then(response => {\n\t\t\t\tthis.list = response.data.extend.list;\n\t\t\t\tthis.pagination.total = response.data.extend.total;\n\t\t\t}).catch(error => {\n\t\t\t\tconsole.info(\"失败\");\n\t\t\t\tconsole.info(error.message);\n\t\t\t});\n\t\t},\n\n\t\thandleReset() {\n\t\t\tthis.listQuery.payload = {\n\t\t\t\tcityId: '',\n\t\t\t\tcityName: '',\n\t\t\t\tstatus: '',\n\t\t\t}\n\t\t\t//this.form.resetFields()\n\t\t},\n\n\t\t//查看更多\n\t\tselected(row) {\n\t\t\talert(\"dd\");\n\t\t},\n\t\t//刷新数据\n\t\tfresh() {\n\t\t\tthis.getList()\n\t\t},\n\t\ttoggle() {\n\t\t\tthis.expand = !this.expand\n\t\t},\n\t\tpageSizeChange(pageSize) {\n\t\t\tthis.listQuery.pageNum = 1;\n\t\t\tthis.listQuery.pageSize = pageSize;\n\t\t\tthis.getList();\n\t\t},\n\t\tpagechage(pageNum, pageSize) {\n\t\t\tthis.listQuery.pageNum = pageNum;\n\t\t\tthis.listQuery.pageSize = pageSize;\n\t\t\tthis.getList();\n\t\t},\n\t\t\n\t\tonChildrenDrawerClose() {\n\t\t\tthis.childrenDrawer = false;\n\t\t\tthis.$message.info('已取消操作')\n\t\t},\n\t\t\n\t\t//提交\n\t\tonSubmit() {\n\t\t\tif(this.enterData.length==1){\n\t\t\t\tvar query={cityNo:this.enterData[0].cityNo,cityName:this.enterData[0].cityName}\n\t\t\t\tthis.$emit('selectCityInfo',query)\n\t\t\t\tthis.childrenDrawer = false;\n\t\t\t}else{\n\t\t\t\tthis.$message.error('请选择一条数据！')\n\t\t\t}\n\t\t\n\t\t},\n\t}\n}\n",{"version":3,"sources":["cityInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"cityInfo.vue","sourceRoot":"src/views/staffInfo","sourcesContent":["<template>\r\n\t<a-drawer placement=\"right\" :closable=\"true\" @close=\"onChildrenDrawerClose\" :visible=\"childrenDrawer\" width=\"850px\">\r\n\t\t<span slot=\"title\">\r\n\t\t\t<a-icon type=\"select\"  />&nbsp;农商行选择 \r\n\t\t</span>\r\n\t<div class=\"commonContent\">\r\n\t\t<a-form-model class=\"commomForm\" :form=\"form\" @submit=\"handleSearch\">\r\n\t\t\t<a-row :gutter=\"24\">\r\n\t\t\t\t<a-col :span=\"12\">\r\n\t\t\t\t\t<a-form-model-item label=\"员工编号\" :label-col=\"{ span: 8 }\" :wrapper-col=\"{ span: 14 }\">\r\n\t\t\t\t\t\t<a-input v-model=\"listQuery.payload.id\" placeholder=\"员工编号\" />\r\n\t\t\t\t\t</a-form-model-item>\r\n\t\t\t\t</a-col>\r\n\t\t\t\t<a-col :span=\"12\" :style=\"{ display: this.expand ? 'block' : 'none'} \">\r\n\t\t\t\t\t<a-form-model-item label=\"员工名称\" :label-col=\"{ span: 8 }\" :wrapper-col=\"{ span: 14 }\">\r\n\t\t\t\t\t\t<a-input v-model=\"listQuery.payload.name\" placeholder=\"员工名称\" />\r\n\t\t\t\t\t</a-form-model-item>\r\n\t\t\t\t</a-col>\r\n\t\t\t\t<a-col :span=\"12\" :style=\"{ display: this.expand ? 'block' : 'none'} \">\r\n\t\t\t\t\t<a-form-model-item label=\"状态\" :label-col=\"{ span: 8 }\" :wrapper-col=\"{ span: 14 }\">\r\n\t\t\t\t\t\t<a-select defaultValue=\"1\" v-model=\"listQuery.payload.status\" style=\"width: 100%\"\r\n\t\t\t\t\t\t\t@change=\"handleChange\">\r\n\t\t\t\t\t\t\t<a-select-option value=\"0\">停用</a-select-option>\r\n\t\t\t\t\t\t\t<a-select-option value=\"1\">启用</a-select-option>\r\n\t\t\t\t\t\t</a-select>\r\n\t\t\t\t\t</a-form-model-item>\r\n\t\t\t\t</a-col>\r\n\t\t\t\t<a-col :span=\"12\" :style=\"{ textAlign: 'right',paddingRight:'20px' }\">\r\n\t\t\t\t\t<a-form-model-item>\r\n\t\t\t\t\t\t<a-button type=\"primary\" @click=\"getList\" icon=\"search\">\r\n\t\t\t\t\t\t\t搜&nbsp;&nbsp;索\r\n\t\t\t\t\t\t</a-button>\r\n\t\t\t\t\t\t<a-button :style=\"{ marginLeft: '8px' }\" @click=\"handleReset\" icon=\"redo\">\r\n\t\t\t\t\t\t\t重&nbsp;&nbsp;置\r\n\t\t\t\t\t\t</a-button>\r\n\t\t\t\t\t\t<a :style=\"{ marginLeft: '8px', fontSize: '12px' }\" @click=\"toggle\">\r\n\t\t\t\t\t\t\t<a-label label=\"dsdfd\">{{expand ? '收起' : '展开'}}</a-label>\r\n\t\t\t\t\t\t\t<a-icon :type=\"expand ? 'up' : 'down'\" />\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</a-form-model-item>\r\n\t\t\t\t</a-col>\r\n\t\t\t</a-row>\r\n\t\t</a-form-model>\r\n\t\t<div class=\"search-result-list\">\r\n\t\t\t<a-table :columns=\"columns\" :rowSelection=\"rowSelection\" :dataSource=\"list\" bordered :pagination=\"pagination\">\r\n\t\t\t\t<span slot=\"status\" slot-scope=\"status\">\r\n\t\t\t\t\t<a-badge :status=\"status=='1'?'success':'error'\" />\r\n\t\t\t\t\t{{statusmap[status]}}\r\n\t\t\t\t</span>\r\n\r\n\t\t\t\t<span slot=\"systemType\" slot-scope=\"systemType\">\r\n\t\t\t\t\t{{systemTypeMap[systemType]}}\r\n\t\t\t\t</span>\r\n\r\n\t\t\t\t<span slot=\"channel\" slot-scope=\"channel\">\r\n\t\t\t\t\t{{channelMap[channel]}}\r\n\t\t\t\t</span>\r\n\t\t\t</a-table>\r\n\t\t</div>\r\n\t</div>\r\n\t\r\n\t<div :style=\"{\r\n\t             position: 'absolute',\r\n\t             left: 0,\r\n\t             bottom: 0,\r\n\t             width: '100%',\r\n\t             borderTop: '1px solid #e9e9e9',\r\n\t             padding: '10px 16px',\r\n\t             background: '#fff',\r\n\t             textAlign: 'right',\r\n\t           }\">\r\n\t  <a-button :style=\"{marginRight: '8px'}\" @click=\"onChildrenDrawerClose\"> 取消 </a-button>\r\n\t  <a-button @click=\"onSubmit\" type=\"primary\">确认</a-button>\r\n\t</div>\r\n</a-drawer>\r\n</template>\r\n<script>\r\n\timport {\r\n\t\tgetCityInfosByPage\r\n\t} from '@/api/staffInfo.js';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: '农商行新增',\r\n\t\t\t\texpand: false,\r\n\t\t\t\tform: this.$form.createForm(this),\r\n\t\t\t\tcolumns: [{\r\n\t\t\t\t\t\ttitle: '农商行编号',\r\n\t\t\t\t\t\tdataIndex: 'cityNo',\r\n\t\t\t\t\t\talign: 'center'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '农商行名称',\r\n\t\t\t\t\t\tdataIndex: 'cityName',\r\n\t\t\t\t\t\talign: 'center'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '状态',\r\n\t\t\t\t\t\tdataIndex: 'status',\r\n\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t\tscopedSlots: {\r\n\t\t\t\t\t\t\tcustomRender: 'status'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tlist: [],\r\n\t\t\t\tpagination: {\r\n\t\t\t\t\ttotal: 0,\r\n\t\t\t\t\tdefaultPageSize: 5,\r\n\t\t\t\t\tshowTotal: total => `共 ${total} 条数据`,\r\n\t\t\t\t\tshowSizeChanger: true,\r\n\t\t\t\t\tpageSizeOptions: ['5', '10', '15', '20'],\r\n\t\t\t\t\tonChange: (page, pageSize) => {\r\n\t\t\t\t\t\tthis.pagechage(page, pageSize);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonShowSizeChange: (current, pageSize) => {\r\n\t\t\t\t\t\tthis.pageSizeChange(pageSize);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tlistQuery: {\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tid: '',\r\n\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\tstatus: '',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tpageSize: 5\r\n\t\t\t\t},\r\n\t\t\t\tstatusmap: {\r\n\t\t\t\t\t'0': '停用',\r\n\t\t\t\t\t'1': '启用'\r\n\t\t\t\t},\r\n\t\t\t\tchildrenDrawer: false,\r\n\t\t\t\trecord: {}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tcount() {\r\n\t\t\t\treturn this.expand ? 3 : 2\r\n\t\t\t},\r\n\t\t\trowSelection() {\r\n\t\t\t\t\t\tconst { selectedRowKeys } = this;\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t  onChange: (selectedRowKeys, selectedRows) => {\r\n\t\t\t\t\t\t\t// console.log(`selectedRowKeys: ${selectedRowKeys}`, 'selectedRows: ', selectedRows);\r\n\t\t\t\t\t\t\tthis.enterData=selectedRows\r\n\t\t\t\t\t\t\t//console.log(this.enterData)\r\n\t\t\t\t\t\t  },\r\n\t\t\t\r\n\t\t\t\t\t\t};\r\n\t\t\t},\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getList()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tShowDialog(){\r\n\t\t\t\tthis.childrenDrawer = true\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tgetList() {\r\n\t\t\t\tgetCityInfosByPage(this.listQuery).then(response => {\r\n\t\t\t\t\tthis.list = response.data.extend.list;\r\n\t\t\t\t\tthis.pagination.total = response.data.extend.total;\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tconsole.info(\"失败\");\r\n\t\t\t\t\tconsole.info(error.message);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\thandleReset() {\r\n\t\t\t\tthis.listQuery.payload = {\r\n\t\t\t\t\tcityId: '',\r\n\t\t\t\t\tcityName: '',\r\n\t\t\t\t\tstatus: '',\r\n\t\t\t\t}\r\n\t\t\t\t//this.form.resetFields()\r\n\t\t\t},\r\n\r\n\t\t\t//查看更多\r\n\t\t\tselected(row) {\r\n\t\t\t\talert(\"dd\");\r\n\t\t\t},\r\n\t\t\t//刷新数据\r\n\t\t\tfresh() {\r\n\t\t\t\tthis.getList()\r\n\t\t\t},\r\n\t\t\ttoggle() {\r\n\t\t\t\tthis.expand = !this.expand\r\n\t\t\t},\r\n\t\t\tpageSizeChange(pageSize) {\r\n\t\t\t\tthis.listQuery.pageNum = 1;\r\n\t\t\t\tthis.listQuery.pageSize = pageSize;\r\n\t\t\t\tthis.getList();\r\n\t\t\t},\r\n\t\t\tpagechage(pageNum, pageSize) {\r\n\t\t\t\tthis.listQuery.pageNum = pageNum;\r\n\t\t\t\tthis.listQuery.pageSize = pageSize;\r\n\t\t\t\tthis.getList();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tonChildrenDrawerClose() {\r\n\t\t\t\tthis.childrenDrawer = false;\r\n\t\t\t\tthis.$message.info('已取消操作')\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//提交\r\n\t\t\tonSubmit() {\r\n\t\t\t\tif(this.enterData.length==1){\r\n\t\t\t\t\tvar query={cityNo:this.enterData[0].cityNo,cityName:this.enterData[0].cityName}\r\n\t\t\t\t\tthis.$emit('selectCityInfo',query)\r\n\t\t\t\t\tthis.childrenDrawer = false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$message.error('请选择一条数据！')\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n<style>\r\n\t.commomForm {\r\n\t\tpadding: 0px 12px;\r\n\t\t--border: 1px solid #d9d9d9;\r\n\t\t--border-radius: 6px;\r\n\t}\r\n\r\n\t.commomForm .ant-form-item {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.commomForm .ant-form-item-control-wrapper {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.commonContent .ant-form {\r\n\t\tmax-width: none;\r\n\t\tborder-radius: 4px;\r\n\t}\r\n\r\n\t.commonContent .search-result-list {\r\n\t\t--margin-top: 5px;\r\n\t\ttext-align: center;\r\n\t\tpadding: 4px 12px;\r\n\t}\r\n\r\n\t.table-operations {\r\n\t\ttext-align: right;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\r\n\t.table-operations>button {\r\n\t\tmargin-right: 18px;\r\n\t}\r\n\r\n\t.modeButton {\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t\tborder-top: 1px solid #e9e9e9;\r\n\t\tpadding: 10px 26px;\r\n\t\tbackground: #fff;\r\n\t\ttext-align: right;\r\n\t\tz-index: 999;\r\n\t}\r\n</style>\r\n"]}]}