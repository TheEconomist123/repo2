{"remainingRequest":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\mail\\oesbecc\\outMailScreen\\src\\views\\cityInfo\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\mail\\oesbecc\\outMailScreen\\src\\views\\cityInfo\\index.vue","mtime":1639556219214},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626312140594},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\babel-loader\\lib\\index.js","mtime":1626312110547},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626312140594},{"path":"D:\\mail\\oesbecc\\outMailScreen\\node_modules\\vue-loader\\lib\\index.js","mtime":1626312141896}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\tgetCityInfosByPage,\n\tdelCityInfo\n} from '@/api/cityInfo.js';\nimport edit from './edit';\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\ttitle: '农商行新增',\n\t\t\texpand: false,\n\t\t\tform: this.$form.createForm(this),\n\t\t\tcolumns: [{\n\t\t\t\t\ttitle: '农商行编号',\n\t\t\t\t\tdataIndex: 'cityNo',\n\t\t\t\t\talign: 'center'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: '农商行名称',\n\t\t\t\t\tdataIndex: 'cityName',\n\t\t\t\t\talign: 'center'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: '状态',\n\t\t\t\t\tdataIndex: 'status',\n\t\t\t\t\talign: 'center',\n\t\t\t\t\tscopedSlots: {\n\t\t\t\t\t\tcustomRender: 'status'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: '操作',\n\t\t\t\t\tdataIndex: 'operation',\n\t\t\t\t\twidth: '160px',\n\t\t\t\t\talign: 'center',\n\t\t\t\t\tscopedSlots: {\n\t\t\t\t\t\tcustomRender: 'operation'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t\tlist: [],\n\t\t\tpagination: {\n\t\t\t\ttotal: 0,\n\t\t\t\tdefaultPageSize: 5,\n\t\t\t\tshowTotal: total => `共 ${total} 条数据`,\n\t\t\t\tshowSizeChanger: true,\n\t\t\t\tpageSizeOptions: ['5', '10', '15', '20'],\n\t\t\t\tonChange: (page, pageSize) => {\n\t\t\t\t\tthis.pagechage(page, pageSize);\n\t\t\t\t},\n\t\t\t\tonShowSizeChange: (current, pageSize) => {\n\t\t\t\t\tthis.pageSizeChange(pageSize);\n\t\t\t\t}\n\t\t\t},\n\t\t\tlistQuery: {\n\t\t\t\tpayload: {\n\t\t\t\t\tcityNo: '',\n\t\t\t\t\tcityName: '',\n\t\t\t\t\tstatus: '',\n\t\t\t\t},\n\t\t\t\tpage: 1,\n\t\t\t\tpageSize: 5\n\t\t\t},\n\t\t\tstatusmap: {\n\t\t\t\t'0': '停用',\n\t\t\t\t'1': '启用'\n\t\t\t},\n\t\t\tshowVisible: false,\n\t\t\trecord: {}\n\t\t}\n\t},\n\tcomponents: {\n\t\tedit\n\t},\n\tcomputed: {\n\t\tcount() {\n\t\t\treturn this.expand ? 11 : 3\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.getList()\n\t},\n\tmethods: {\n\t\tgetList() {\n\t\t\tgetCityInfosByPage(this.listQuery).then(response => {\n\t\t\t\tthis.list = response.data.extend.list;\n\t\t\t\tthis.pagination.total = response.data.extend.total;\n\t\t\t}).catch(error => {\n\t\t\t\tconsole.info(\"失败\");\n\t\t\t\tconsole.info(error.message);\n\t\t\t});\n\t\t},\n\n\t\thandleReset() {\n\t\t\tthis.listQuery.payload = {\n\t\t\t\tcityId: '',\n\t\t\t\tcityName: '',\n\t\t\t\tstatus: '',\n\t\t\t}\n\t\t\t//this.form.resetFields()\n\t\t},\n\n\t\t//查看更多\n\t\tshowlist(row) {\n\t\t\tthis.$refs.edit.ShowDialog(Object.assign({}, row));\n\t\t},\n\n\t\t//新增\n\t\tcreatelist() {\n\t\t\tthis.$refs.edit.CreateDialog();\n\t\t},\n\t\t//修改\n\t\tupdate(row) {\n\t\t\tthis.$refs.edit.UpdateDialog(row);\n\t\t},\n\n\t\t//删除\n\t\tdeletList(row) {\n\n\t\t\tvar _this = this\n\t\t\tthis.$confirm({\n\t\t\t\ttitle: '确认删除？',\n\t\t\t\tcontent: '确认删除记录，删除后不可恢复',\n\t\t\t\tokType: 'danger',\n\t\t\t\tonOk() {\n\t\t\t\t\tdelCityInfo({\n\t\t\t\t\t\tcityNo: row.cityNo\n\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\tif (res.status == 200) {\n\t\t\t\t\t\t\t_this.getList()\n\t\t\t\t\t\t\t_this.$message.success('删除成功！')\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this.$message.error('删除失败！')\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\t//刷新数据\n\t\tfresh() {\n\t\t\tthis.getList()\n\t\t},\n\t\ttoggle() {\n\t\t\tthis.expand = !this.expand\n\t\t},\n\t\tpageSizeChange(pageSize) {\n\t\t\tthis.listQuery.pageNum = 1;\n\t\t\tthis.listQuery.pageSize = pageSize;\n\t\t\tthis.getList();\n\t\t},\n\t\tpagechage(pageNum, pageSize) {\n\t\t\tthis.listQuery.pageNum = pageNum;\n\t\t\tthis.listQuery.pageSize = pageSize;\n\t\t\tthis.getList();\n\t\t}\n\t}\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/cityInfo","sourcesContent":["<template>\r\n\t<div class=\"commonContent\">\r\n\t\t<a-form-model class=\"commomForm\" :form=\"form\" @submit=\"handleSearch\">\r\n\t\t\t<a-row :gutter=\"24\">\r\n\t\t\t\t<a-col :span=\"8\">\r\n\t\t\t\t\t<a-form-model-item label=\"农商行编号\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 12 }\">\r\n\t\t\t\t\t\t<a-input v-model=\"listQuery.payload.cityNo\" placeholder=\"农商行编号\" />\r\n\t\t\t\t\t</a-form-model-item>\r\n\t\t\t\t</a-col>\r\n\t\t\t\t<a-col :span=\"8\">\r\n\t\t\t\t\t<a-form-model-item label=\"农商行名称\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 12 }\">\r\n\t\t\t\t\t\t<a-input v-model=\"listQuery.payload.cityName\" placeholder=\"农商行名称\" />\r\n\t\t\t\t\t</a-form-model-item>\r\n\t\t\t\t</a-col>\r\n\t\t\t\t<a-col :span=\"8\" :style=\"{ display: this.expand ? 'block' : 'none'} \">\r\n\t\t\t\t\t<a-form-model-item label=\"状态\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 12 }\">\r\n\t\t\t\t\t\t<a-select defaultValue=\"1\" v-model=\"listQuery.payload.status\" style=\"width: 100%\"\r\n\t\t\t\t\t\t\t@change=\"handleChange\">\r\n\t\t\t\t\t\t\t<a-select-option value=\"0\">停用</a-select-option>\r\n\t\t\t\t\t\t\t<a-select-option value=\"1\">启用</a-select-option>\r\n\t\t\t\t\t\t</a-select>\r\n\t\t\t\t\t</a-form-model-item>\r\n\t\t\t\t</a-col>\r\n\t\t\t\t<a-col :span=\"this.expand ? 24 : 8\" :style=\"{ textAlign: 'right',paddingRight:'20px' }\">\r\n\t\t\t\t\t<a-form-model-item>\r\n\t\t\t\t\t\t<a-button type=\"primary\" @click=\"getList\" icon=\"search\">\r\n\t\t\t\t\t\t\t搜&nbsp;&nbsp;索\r\n\t\t\t\t\t\t</a-button>\r\n\t\t\t\t\t\t<a-button :style=\"{ marginLeft: '8px' }\" @click=\"handleReset\" icon=\"redo\">\r\n\t\t\t\t\t\t\t重&nbsp;&nbsp;置\r\n\t\t\t\t\t\t</a-button>\r\n\t\t\t\t\t\t<a :style=\"{ marginLeft: '8px', fontSize: '12px' }\" @click=\"toggle\">\r\n\t\t\t\t\t\t\t<a-label label=\"dsdfd\">{{expand ? '收起' : '展开'}}</a-label>\r\n\t\t\t\t\t\t\t<a-icon :type=\"expand ? 'up' : 'down'\" />\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</a-form-model-item>\r\n\t\t\t\t</a-col>\r\n\t\t\t</a-row>\r\n\t\t</a-form-model>\r\n\t\t<div class=\"search-result-list\">\r\n\t\t\t<div class=\"table-operations\">\r\n\t\t\t\t<a-button type=\"dashed\" block style='margin:0;' @click=\"createlist()\">+ 新增</a-button>\r\n\t\t\t</div>\r\n\t\t\t<a-table :columns=\"columns\" :dataSource=\"list\" bordered :pagination=\"pagination\">\r\n\t\t\t\t<span slot=\"status\" slot-scope=\"status\">\r\n\t\t\t\t\t<a-badge :status=\"status=='1'?'success':'error'\" />\r\n\t\t\t\t\t{{statusmap[status]}}\r\n\t\t\t\t</span>\r\n\r\n\t\t\t\t<span slot=\"systemType\" slot-scope=\"systemType\">\r\n\t\t\t\t\t{{systemTypeMap[systemType]}}\r\n\t\t\t\t</span>\r\n\r\n\t\t\t\t<span slot=\"channel\" slot-scope=\"channel\">\r\n\t\t\t\t\t{{channelMap[channel]}}\r\n\t\t\t\t</span>\r\n\r\n\t\t\t\t<span slot=\"operation\" slot-scope=\"text, record\">\r\n\t\t\t\t\t<a @click=\"showlist(record)\">查看</a>\r\n\t\t\t\t\t<a-divider type=\"vertical\" />\r\n\t\t\t\t\t<a-dropdown>\r\n\t\t\t\t\t\t<a class=\"ant-dropdown-link\" href=\"javascript:;\">\r\n\t\t\t\t\t\t\t更多\r\n\t\t\t\t\t\t\t<a-icon type=\"down\" />\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t<a-menu slot=\"overlay\">\r\n\t\t\t\t\t\t\t<a-menu-item>\r\n\t\t\t\t\t\t\t\t<a href=\"javascript:;\" @click=\"update(record)\">修改</a>\r\n\t\t\t\t\t\t\t</a-menu-item>\r\n\t\t\t\t\t\t\t<a-menu-item>\r\n\t\t\t\t\t\t\t\t<a href=\"javascript:;\" @click=\"deletList(record)\">删除</a>\r\n\t\t\t\t\t\t\t</a-menu-item>\r\n\t\t\t\t\t\t</a-menu>\r\n\t\t\t\t\t</a-dropdown>\r\n\t\t\t\t</span>\r\n\t\t\t</a-table>\r\n\t\t</div>\r\n\t\t<edit ref='edit' @fresh=\"fresh\" />\r\n\t</div>\r\n\r\n</template>\r\n<script>\r\n\timport {\r\n\t\tgetCityInfosByPage,\r\n\t\tdelCityInfo\r\n\t} from '@/api/cityInfo.js';\r\n\timport edit from './edit';\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: '农商行新增',\r\n\t\t\t\texpand: false,\r\n\t\t\t\tform: this.$form.createForm(this),\r\n\t\t\t\tcolumns: [{\r\n\t\t\t\t\t\ttitle: '农商行编号',\r\n\t\t\t\t\t\tdataIndex: 'cityNo',\r\n\t\t\t\t\t\talign: 'center'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '农商行名称',\r\n\t\t\t\t\t\tdataIndex: 'cityName',\r\n\t\t\t\t\t\talign: 'center'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '状态',\r\n\t\t\t\t\t\tdataIndex: 'status',\r\n\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t\tscopedSlots: {\r\n\t\t\t\t\t\t\tcustomRender: 'status'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: '操作',\r\n\t\t\t\t\t\tdataIndex: 'operation',\r\n\t\t\t\t\t\twidth: '160px',\r\n\t\t\t\t\t\talign: 'center',\r\n\t\t\t\t\t\tscopedSlots: {\r\n\t\t\t\t\t\t\tcustomRender: 'operation'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tlist: [],\r\n\t\t\t\tpagination: {\r\n\t\t\t\t\ttotal: 0,\r\n\t\t\t\t\tdefaultPageSize: 5,\r\n\t\t\t\t\tshowTotal: total => `共 ${total} 条数据`,\r\n\t\t\t\t\tshowSizeChanger: true,\r\n\t\t\t\t\tpageSizeOptions: ['5', '10', '15', '20'],\r\n\t\t\t\t\tonChange: (page, pageSize) => {\r\n\t\t\t\t\t\tthis.pagechage(page, pageSize);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonShowSizeChange: (current, pageSize) => {\r\n\t\t\t\t\t\tthis.pageSizeChange(pageSize);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tlistQuery: {\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tcityNo: '',\r\n\t\t\t\t\t\tcityName: '',\r\n\t\t\t\t\t\tstatus: '',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tpageSize: 5\r\n\t\t\t\t},\r\n\t\t\t\tstatusmap: {\r\n\t\t\t\t\t'0': '停用',\r\n\t\t\t\t\t'1': '启用'\r\n\t\t\t\t},\r\n\t\t\t\tshowVisible: false,\r\n\t\t\t\trecord: {}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tedit\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tcount() {\r\n\t\t\t\treturn this.expand ? 11 : 3\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getList()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetList() {\r\n\t\t\t\tgetCityInfosByPage(this.listQuery).then(response => {\r\n\t\t\t\t\tthis.list = response.data.extend.list;\r\n\t\t\t\t\tthis.pagination.total = response.data.extend.total;\r\n\t\t\t\t}).catch(error => {\r\n\t\t\t\t\tconsole.info(\"失败\");\r\n\t\t\t\t\tconsole.info(error.message);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\thandleReset() {\r\n\t\t\t\tthis.listQuery.payload = {\r\n\t\t\t\t\tcityId: '',\r\n\t\t\t\t\tcityName: '',\r\n\t\t\t\t\tstatus: '',\r\n\t\t\t\t}\r\n\t\t\t\t//this.form.resetFields()\r\n\t\t\t},\r\n\r\n\t\t\t//查看更多\r\n\t\t\tshowlist(row) {\r\n\t\t\t\tthis.$refs.edit.ShowDialog(Object.assign({}, row));\r\n\t\t\t},\r\n\r\n\t\t\t//新增\r\n\t\t\tcreatelist() {\r\n\t\t\t\tthis.$refs.edit.CreateDialog();\r\n\t\t\t},\r\n\t\t\t//修改\r\n\t\t\tupdate(row) {\r\n\t\t\t\tthis.$refs.edit.UpdateDialog(row);\r\n\t\t\t},\r\n\r\n\t\t\t//删除\r\n\t\t\tdeletList(row) {\r\n\r\n\t\t\t\tvar _this = this\r\n\t\t\t\tthis.$confirm({\r\n\t\t\t\t\ttitle: '确认删除？',\r\n\t\t\t\t\tcontent: '确认删除记录，删除后不可恢复',\r\n\t\t\t\t\tokType: 'danger',\r\n\t\t\t\t\tonOk() {\r\n\t\t\t\t\t\tdelCityInfo({\r\n\t\t\t\t\t\t\tcityNo: row.cityNo\r\n\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\tif (res.status == 200) {\r\n\t\t\t\t\t\t\t\t_this.getList()\r\n\t\t\t\t\t\t\t\t_this.$message.success('删除成功！')\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t_this.$message.error('删除失败！')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//刷新数据\r\n\t\t\tfresh() {\r\n\t\t\t\tthis.getList()\r\n\t\t\t},\r\n\t\t\ttoggle() {\r\n\t\t\t\tthis.expand = !this.expand\r\n\t\t\t},\r\n\t\t\tpageSizeChange(pageSize) {\r\n\t\t\t\tthis.listQuery.pageNum = 1;\r\n\t\t\t\tthis.listQuery.pageSize = pageSize;\r\n\t\t\t\tthis.getList();\r\n\t\t\t},\r\n\t\t\tpagechage(pageNum, pageSize) {\r\n\t\t\t\tthis.listQuery.pageNum = pageNum;\r\n\t\t\t\tthis.listQuery.pageSize = pageSize;\r\n\t\t\t\tthis.getList();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n<style>\r\n\t.commomForm {\r\n\t\tpadding: 0px 12px;\r\n\t\t--border: 1px solid #d9d9d9;\r\n\t\t--border-radius: 6px;\r\n\t}\r\n\r\n\t.commomForm .ant-form-item {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.commomForm .ant-form-item-control-wrapper {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.commonContent .ant-form {\r\n\t\tmax-width: none;\r\n\t\tborder-radius: 4px;\r\n\t}\r\n\r\n\t.commonContent .search-result-list {\r\n\t\t--margin-top: 5px;\r\n\t\ttext-align: center;\r\n\t\tpadding: 4px 12px;\r\n\t}\r\n\r\n\t.table-operations {\r\n\t\ttext-align: right;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\r\n\t.table-operations>button {\r\n\t\tmargin-right: 18px;\r\n\t}\r\n\r\n\t.modeButton {\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t\tborder-top: 1px solid #e9e9e9;\r\n\t\tpadding: 10px 26px;\r\n\t\tbackground: #fff;\r\n\t\ttext-align: right;\r\n\t\tz-index: 999;\r\n\t}\r\n</style>\n"]}]}